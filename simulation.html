<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>VAC Protocol â€” Interactive Simulation</title>
<meta name="description" content="Interactive simulation: 9 real-world scenarios showing how VAC Protocol traces every AI agent action to a verified human. 285 patent claims across 6 filings.">
<meta property="og:title" content="VAC Protocol â€” Interactive Simulation">
<meta property="og:description" content="9 real-world scenarios: military coalition, healthcare, autonomous vehicles, WÄnanga. Every AI agent traces to a verified human. 285 patent claims.">
<meta property="og:type" content="website">
<meta property="og:url" content="https://vacprotocol.org/simulation.html">
<meta property="og:image" content="https://vacprotocol.org/og-image.png">
<meta property="og:image:width" content="1200">
<meta property="og:image:height" content="630">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:title" content="VAC Protocol â€” Interactive Simulation">
<meta name="twitter:description" content="9 real-world scenarios showing cryptographic human-to-agent attribution. 285 patent claims. Try the coalition drone scenario.">
<meta name="twitter:image" content="https://vacprotocol.org/og-image.png">
<style>
  body { margin: 0; padding: 0; background: #000; font-family: -apple-system, 'Segoe UI', sans-serif; }
  #root { min-height: 100vh; }
  .sim-nav { position: fixed; top: 0; left: 0; right: 0; z-index: 100; background: rgba(0,0,0,0.9); backdrop-filter: blur(12px); border-bottom: 1px solid #222; padding: 0 2rem; height: 48px; display: flex; align-items: center; justify-content: space-between; }
  .sim-nav a { color: #888; text-decoration: none; font-size: 13px; font-family: 'Courier New', monospace; }
  .sim-nav a:hover { color: #fff; }
  .sim-nav .back { color: #666; }
  .sim-loading { display: flex; align-items: center; justify-content: center; height: 100vh; color: #555; font-family: 'Courier New', monospace; font-size: 14px; }
</style>
</head>
<body>
<div class="sim-nav">
  <a href="/" class="back">â† vacprotocol.org</a>
  <a href="/">VAC PROTOCOL</a>
</div>
<div id="root"><div class="sim-loading">Loading VAC Simulation...</div></div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/react/18.2.0/umd/react.production.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/react-dom/18.2.0/umd/react-dom.production.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/babel-standalone/7.23.9/babel.min.js"></script>
<script type="text/babel">
const { useState, useEffect, useRef, useCallback } = React;



const SCENARIOS = {
  healthcare: {
    title: "Healthcare Chain",
    subtitle: "Dr. Sarah Chen â†’ 4-agent clinical delegation",
    claims: "Claims 1-15, 39-55, 168-176",
    audience: "NIST CAISI / NCCoE",
    color: "#2E75B6",
    oneSentence: "The doctor's face unlock propagated through 4 agents and revoked them all when she locked her phone.",
    story: {
      intro: "Dr. Sarah Chen is an attending physician in California. She unlocks her phone with Face ID and asks her AI assistant to pull up a patient's records across two hospitals. Four AI agents spring into action â€” but who authorised them? If something goes wrong, who's responsible?",
      whyVAC: "Today, when an AI agent accesses your medical records, there's no way to trace that action back to the specific doctor who authorised it. VAC creates an unbreakable chain: every agent action traces back to Dr. Chen's face.",
      beats: [
        { at: 0, text: "Dr. Chen's face scan isn't just unlocking her phone â€” it's creating a cryptographic proof that SHE is authorising everything that follows." },
        { at: 2, text: "Her clinical assistant AI now has permission to act on her behalf â€” but ONLY for this specific patient, ONLY for reading and analysis." },
        { at: 4, text: "Each agent in the chain gets narrower permission. The hospital connector can only read â€” it cannot modify, delete, or share." },
        { at: 7, text: "Results flow back through the chain. Every step is recorded. If audited, there's a clear trail from data access to Dr. Chen's face." },
        { at: 8, text: "Dr. Chen locks her phone. Instantly, EVERY agent in the chain loses authority. Four agents shut down in under a second. No orphaned access." },
      ],
    },
    nodes: [
      { id: "human", label: "Dr. Sarah Chen", type: "human", trust: 0.95, scope: "Clinical, Patient #4721", jurisdiction: "US-CA", role: "Attending Physician", x: 400, y: 60 },
      { id: "a1", label: "Clinical Assistant AI", type: "agent", trust: 0.88, scope: "Patient #4721, Read/Analyse", jurisdiction: "US-CA", x: 400, y: 180 },
      { id: "a2", label: "Records Retrieval Agent", type: "agent", trust: 0.82, scope: "Patient #4721, Read-Only", jurisdiction: "US-CA", x: 250, y: 300 },
      { id: "a3", label: "Lab Results Agent", type: "agent", trust: 0.82, scope: "Lab Results Only", jurisdiction: "US-CA", x: 550, y: 300 },
      { id: "a4", label: "Hospital-A Connector", type: "agent", trust: 0.76, scope: "Hospital-A, Read-Only", jurisdiction: "US-CA", x: 250, y: 420 },
    ],
    edges: [["human","a1"],["a1","a2"],["a1","a3"],["a2","a4"]],
    events: [
      { time: 0, type: "verify", node: "human", message: "Biometric verification: Face ID + Liveness âœ“" },
      { time: 1200, type: "create", node: "human", message: "Root VAT created â€” Trust: 0.95, Scope: Clinical" },
      { time: 2200, type: "delegate", node: "a1", message: "Delegation â†’ Clinical Assistant (Trust: 0.88)" },
      { time: 3200, type: "delegate", node: "a2", message: "Delegation â†’ Records Retrieval (Trust: 0.82, Read-Only)" },
      { time: 3800, type: "delegate", node: "a3", message: "Delegation â†’ Lab Results (Trust: 0.82, Labs Only)" },
      { time: 4800, type: "delegate", node: "a4", message: "Delegation â†’ Hospital-A Connector (Trust: 0.76)" },
      { time: 6500, type: "action", node: "a4", message: "âœ“ Patient #4721 records retrieved from Hospital-A" },
      { time: 7500, type: "action", node: "a3", message: "âœ“ Lab results retrieved â€” CBC, Metabolic Panel" },
      { time: 9000, type: "revoke", node: "human", message: "âš  Dr. Chen locked phone â€” REVOCATION CASCADE" },
    ],
  },
  compliance: {
    title: "Cross-Border Compliance",
    subtitle: "New York â†’ Frankfurt â†’ SÃ£o Paulo",
    claims: "Claims 168-207",
    audience: "DHS / Matthew Toplak",
    color: "#D4AF37",
    oneSentence: "The AI tried to process EU data in Brazil without transfer mechanism â€” blocked at protocol level.",
    story: {
      intro: "Maria Santos is CFO of a global firm. She needs a compliance review across New York, Frankfurt, and SÃ£o Paulo. Three different privacy laws. Three different jurisdictions. One AI system trying to move data between them. What could go wrong?",
      whyVAC: "Companies get fined millions when AI systems move data across borders without proper legal basis. VAC doesn't just log the transfer â€” it BLOCKS transfers that violate jurisdictional rules, automatically, before the data moves.",
      beats: [
        { at: 0, text: "Maria verifies her identity. The system knows she's in New York â€” US privacy law (CCPA) applies to her." },
        { at: 3, text: "The EU agent is deployed in Frankfurt. The system automatically detects: GDPR now applies. Different rules." },
        { at: 5, text: "LATAM agent in SÃ£o Paulo â€” Brazilian LGPD detected. Every jurisdiction gets its own compliance scope." },
        { at: 7, text: "Now the critical moment: an agent tries to send EU citizen data to Brazil without the right legal mechanism. VAC doesn't warn â€” it BLOCKS." },
      ],
    },
    nodes: [
      { id: "human", label: "CFO â€” Maria Santos", type: "human", trust: 0.95, scope: "Financial Compliance, Global", jurisdiction: "US-NY", role: "Chief Financial Officer", x: 400, y: 60 },
      { id: "a1", label: "Compliance Coordinator", type: "agent", trust: 0.88, scope: "Compliance Review, All Regions", jurisdiction: "US-NY", x: 400, y: 180 },
      { id: "a2", label: "EU Compliance Agent", type: "agent", trust: 0.82, scope: "EU Data, GDPR Scope", jurisdiction: "DE-HE", x: 250, y: 300 },
      { id: "a3", label: "LATAM Compliance Agent", type: "agent", trust: 0.82, scope: "LATAM Data, LGPD Scope", jurisdiction: "BR-SP", x: 550, y: 300 },
      { id: "a4", label: "Cross-Border Processor", type: "agent", trust: 0.76, scope: "â›” BLOCKED â€” No EUâ†’BR transfer basis", jurisdiction: "BR-SP", x: 400, y: 440 },
    ],
    edges: [["human","a1"],["a1","a2"],["a1","a3"],["a3","a4"]],
    events: [
      { time: 0, type: "verify", node: "human", message: "Biometric verification: Face + Voice âœ“" },
      { time: 1200, type: "create", node: "human", message: "Root VAT â€” Jurisdiction: US-NY, CCPA applies" },
      { time: 2400, type: "delegate", node: "a1", message: "Delegation â†’ Compliance Coordinator" },
      { time: 3400, type: "delegate", node: "a2", message: "Delegation â†’ EU Agent (Frankfurt) â€” GDPR detected" },
      { time: 4200, type: "provenance", node: "a2", message: "ğŸ“‹ Provenance: USâ†’DE transfer via SCCs recorded" },
      { time: 5200, type: "delegate", node: "a3", message: "Delegation â†’ LATAM Agent (SÃ£o Paulo) â€” LGPD detected" },
      { time: 6200, type: "provenance", node: "a3", message: "ğŸ“‹ Provenance: USâ†’BR transfer via LGPD Art 33 recorded" },
      { time: 7500, type: "blocked", node: "a4", message: "ğŸ›‘ BLOCKED: EU citizen data â†’ Brazil without adequate transfer mechanism" },
      { time: 8500, type: "alert", node: "a4", message: "âš  Regulatory divergence: GDPR Art 46 requires SCCs for EUâ†’BR â€” none configured" },
    ],
  },
  coalition: {
    title: "Coalition Drone Swarm",
    subtitle: "When Guardrails Are Contractual, They Can Be Negotiated Away",
    claims: "Claims 218-228, 242-271",
    audience: "Pentagon DAWG / Defense",
    color: "#8B0000",
    oneSentence: "The German drone refused the offensive order â€” not because of a contract, but because the cryptographic authority chain made it physically impossible.",
    story: {
      intro: "When AI guardrails are contractual, they can be renegotiated, waived, or overridden under pressure. A NATO coalition deploys 40 drones across three nations. The coalition commander gives an order to engage. US and UK drones respond. German drones refuse. Not because of a policy document. Not because of an API agreement. Because Germany's parliamentary restriction is encoded as a cryptographic constraint in the delegation chain â€” and no commander, no contractor, and no software update can override it.",
      whyVAC: "Today's AI safety relies on contracts between vendors and governments â€” terms of service that can be amended, waived under national security exceptions, or simply ignored. VAC replaces contractual guardrails with cryptographic ones. A German drone with an OBSERVE ONLY caveat cannot execute an offensive order because the authority to do so was never delegated. The constraint lives in the math, not in the contract.",
      beats: [
        { at: 0, text: "The coalition commander verifies via multi-factor biometric. NATO clearance confirmed â€” this is really them. Not a password. Not a shared credential. A cryptographic proof anchored to a verified human." },
        { at: 3, text: "Each nation sets its own scope constraints. US and UK: full authority. Germany: OBSERVE ONLY. These aren't contractual terms â€” they're cryptographic boundaries baked into the Verified Authority Token. No override exists." },
        { at: 7, text: "The order comes: engage the target. US and UK drones comply â€” their authority chain permits it. German drones refuse â€” their token literally cannot authorise offensive operations. The protocol enforces political will, not a vendor's promise." },
        { at: 10, text: "German drones continue their surveillance mission â€” operating within their authorised scope. No commander can override this. No emergency exception exists. No contract renegotiation can change it mid-mission. The constraint is in the delegation chain." },
      ],
    },
    nodes: [
      { id: "human", label: "Coalition Commander", type: "human", trust: 0.95, scope: "Coalition Operations, Full", jurisdiction: "NATO-HQ", role: "SACEUR Designate", x: 400, y: 40 },
      { id: "us", label: "US National Command", type: "governance", trust: 0.92, scope: "US Forces, Full Authority", jurisdiction: "US-DOD", x: 200, y: 150 },
      { id: "uk", label: "UK National Command", type: "governance", trust: 0.92, scope: "UK Forces, Full Authority", jurisdiction: "UK-MOD", x: 400, y: 150 },
      { id: "de", label: "DE National Command", type: "governance", trust: 0.92, scope: "DE Forces, OBSERVE ONLY âš ", jurisdiction: "DE-BMVG", x: 600, y: 150 },
      { id: "us_sw", label: "US Swarm (20 units)", type: "physical", trust: 0.85, scope: "Surveillance + Strike", jurisdiction: "US-DOD", x: 200, y: 280 },
      { id: "uk_sw", label: "UK Swarm (10 units)", type: "physical", trust: 0.85, scope: "Surveillance + Strike", jurisdiction: "UK-MOD", x: 400, y: 280 },
      { id: "de_sw", label: "DE Swarm (10 units)", type: "physical", trust: 0.85, scope: "Surveillance ONLY", jurisdiction: "DE-BMVG", x: 600, y: 280 },
    ],
    edges: [["human","us"],["human","uk"],["human","de"],["us","us_sw"],["uk","uk_sw"],["de","de_sw"]],
    events: [
      { time: 0, type: "verify", node: "human", message: "Biometric verification: Multi-factor, NATO clearance âœ“" },
      { time: 1200, type: "create", node: "human", message: "Coalition VAT â€” 3 nations, 40 units authorised" },
      { time: 2200, type: "delegate", node: "us", message: "US Command: 20 drones â€” full authority" },
      { time: 2800, type: "delegate", node: "uk", message: "UK Command: 10 drones â€” full authority" },
      { time: 3400, type: "delegate", node: "de", message: "DE Command: 10 drones â€” âš  CAVEAT: Observe only" },
      { time: 4400, type: "delegate", node: "us_sw", message: "US Swarm deployed â€” surveillance + strike capable" },
      { time: 5000, type: "delegate", node: "uk_sw", message: "UK Swarm deployed â€” surveillance + strike capable" },
      { time: 5600, type: "delegate", node: "de_sw", message: "DE Swarm deployed â€” surveillance only (caveat enforced)" },
      { time: 7000, type: "blocked", node: "de_sw", message: "ğŸ›‘ COALITION ORDER: Engage target â€” DE Swarm REFUSES: National caveat prohibits offensive operations" },
      { time: 8500, type: "action", node: "us_sw", message: "âœ“ US Swarm engages â€” authority chain verified to US operator" },
      { time: 9000, type: "action", node: "uk_sw", message: "âœ“ UK Swarm engages â€” authority chain verified to UK operator" },
      { time: 10000, type: "action", node: "de_sw", message: "âœ“ DE Swarm continues surveillance â€” within authorised scope" },
    ],
  },
  iwi: {
    title: "Iwi Data Governance",
    subtitle: "Te WhÄnau-a-Apanui Collective Governance",
    claims: "Claims 208-217",
    audience: "Indigenous Data Sovereignty",
    color: "#2D5A27",
    oneSentence: "The AI tried to access tapu data and was blocked by the iwi's cultural governance.",
    story: {
      intro: "Te WhÄnau-a-Apanui â€” an iwi (tribe) in New Zealand's Bay of Plenty â€” holds health data about their community. A university in Auckland wants access for research. The iwi will share health data, but whakapapa (genealogy) is tapu (sacred). No exceptions.",
      whyVAC: "Indigenous communities worldwide face a dilemma: share data to benefit from research, or lock it away to protect sovereignty. VAC lets them do both â€” share what they choose while making cultural restrictions technically unbreakable.",
      beats: [
        { at: 0, text: "Five governance members must ALL verify. Not a majority vote â€” consensus. Every person matters." },
        { at: 4, text: "The kaumÄtua (elder) verifies last. Without her, nothing proceeds. Her role isn't optional â€” it's mandatory. Numbers don't override cultural authority." },
        { at: 6, text: "The collective VAT is issued with a clear exclusion: tapu data is OUT OF SCOPE. This isn't a preference â€” it's a cryptographic boundary." },
        { at: 8, text: "The research agent accesses anonymised health data within scope. The research benefits the community." },
        { at: 9, text: "Then the agent reaches for whakapapa data. BLOCKED. The iwi is notified. The boundary held â€” not because someone was watching, but because the protocol enforced it." },
      ],
    },
    nodes: [
      { id: "g1", label: "Mere (KaumÄtua) ğŸ‘¤", type: "kaumatua", trust: 0.95, scope: "All data categories inc. tapu", jurisdiction: "NZ-BOP", role: "KaumÄtua â€” Elder Authority", x: 400, y: 50 },
      { id: "g2", label: "Tane ğŸ‘¤", type: "governance", trust: 0.90, scope: "General governance", jurisdiction: "NZ-BOP", x: 200, y: 130 },
      { id: "g3", label: "Aroha ğŸ‘¤", type: "governance", trust: 0.90, scope: "General governance", jurisdiction: "NZ-BOP", x: 320, y: 130 },
      { id: "g4", label: "Wiremu ğŸ‘¤", type: "governance", trust: 0.90, scope: "General governance", jurisdiction: "NZ-BOP", x: 480, y: 130 },
      { id: "g5", label: "Hine ğŸ‘¤", type: "governance", trust: 0.90, scope: "General governance", jurisdiction: "NZ-BOP", x: 600, y: 130 },
      { id: "collective", label: "Collective VAT âœ¦", type: "collective", trust: 0.92, scope: "Health data â€” tapu excluded", jurisdiction: "NZ-BOP", x: 400, y: 240 },
      { id: "research", label: "University Research Agent", type: "agent", trust: 0.84, scope: "Health data, anonymised, read-only", jurisdiction: "NZ-AKL", x: 400, y: 360 },
      { id: "blocked", label: "â›” Whakapapa Access", type: "blocked", trust: 0, scope: "TAPU â€” Access denied", jurisdiction: "NZ-BOP", x: 400, y: 470 },
    ],
    edges: [["g1","collective"],["g2","collective"],["g3","collective"],["g4","collective"],["g5","collective"],["collective","research"],["research","blocked"]],
    events: [
      { time: 0, type: "verify", node: "g2", message: "Tane verified biometrically âœ“ (1 of 5)" },
      { time: 800, type: "verify", node: "g3", message: "Aroha verified âœ“ (2 of 5)" },
      { time: 1600, type: "verify", node: "g4", message: "Wiremu verified âœ“ (3 of 5)" },
      { time: 2400, type: "verify", node: "g5", message: "Hine verified âœ“ (4 of 5)" },
      { time: 3200, type: "waiting", node: "g1", message: "â³ Awaiting kaumÄtua verification (4 of 5 â€” consensus requires all)" },
      { time: 5000, type: "verify", node: "g1", message: "Mere (KaumÄtua) verified âœ“ â€” Consensus reached (5 of 5)" },
      { time: 5800, type: "create", node: "collective", message: "âœ¦ Collective VAT issued â€” Tapu data EXCLUDED from scope" },
      { time: 6800, type: "delegate", node: "research", message: "Research agent authorised â€” health data, anonymised, read-only" },
      { time: 8000, type: "action", node: "research", message: "âœ“ Anonymised health data accessed within scope" },
      { time: 9500, type: "blocked", node: "blocked", message: "ğŸ›‘ Agent attempted whakapapa (tapu) â€” BLOCKED. Iwi governance notified." },
    ],
  },
  rahui: {
    title: "RÄhui â€” Temporal Governance",
    subtitle: "Tautira, Tahiti â€” Ari'i declares lagoon rÄhui",
    claims: "Claims 208-217 (MÄ'ohi context)",
    audience: "Pan-Polynesian / Cultural",
    color: "#0077B6",
    oneSentence: "RÄhui lifts after 6 months, fishing allowed â€” but tapu reef stays permanently restricted.",
    story: {
      intro: "In Tautira, Tahiti, the Ari'i Rahi (high chief) Tevarai declares a rÄhui â€” a traditional prohibition â€” on fishing in the lagoon. The reef stocks need six months to recover. But the sacred reef is different: that restriction is permanent. Not because of ecology â€” because of the divine.",
      whyVAC: "VAC can encode TWO kinds of authority: temporal (the rÄhui lifts after 6 months) and permanent (the tapu reef is forever). This distinction â€” time-bound human authority vs. permanent sacred authority â€” is something no other identity system can express.",
      beats: [
        { at: 0, text: "The Ari'i Rahi's authority comes from genealogy â€” mana passed down through generations. The system recognises this as the highest authority." },
        { at: 1, text: "Two restrictions are set: the lagoon rÄhui (6 months, human-declared) and the tapu reef (permanent, divine authority)." },
        { at: 4, text: "A fishing coordinator asks to operate in the lagoon. Blocked â€” the rÄhui is active. But marine research is allowed â€” observation doesn't violate the prohibition." },
        { at: 6, text: "Six months pass. The rÄhui lifts automatically. Fishing resumes. Human-set restrictions have expiry dates." },
        { at: 8, text: "But the tapu reef? Still blocked. PERMANENTLY. No human â€” not even the Ari'i Rahi â€” can lift divine authority. The system respects what humans cannot override." },
      ],
    },
    nodes: [
      { id: "human", label: "Ari'i Rahi â€” Chief Tevarai", type: "kaumatua", trust: 0.95, scope: "Tautira territory, full authority", jurisdiction: "PF-TAH", role: "Ari'i Rahi (High Chief)", x: 400, y: 50 },
      { id: "rahui", label: "RÄhui Zone ğŸŒŠ", type: "rahui", trust: 0, scope: "6-month fishing prohibition", jurisdiction: "PF-TAH", x: 250, y: 190 },
      { id: "tapu", label: "Tapu Reef ğŸ”´", type: "tapu", trust: 0, scope: "PERMANENT â€” Sacred restriction", jurisdiction: "PF-TAH", x: 550, y: 190 },
      { id: "agent1", label: "Marine Research Agent", type: "agent", trust: 0.82, scope: "Lagoon survey, non-extractive", jurisdiction: "PF-TAH", x: 250, y: 320 },
      { id: "agent2", label: "Fishing Coordinator", type: "agent", trust: 0.82, scope: "â›” BLOCKED by rÄhui", jurisdiction: "PF-TAH", x: 250, y: 440 },
      { id: "agent3", label: "Reef Survey Agent", type: "agent", trust: 0.82, scope: "â›” BLOCKED by tapu", jurisdiction: "PF-TAH", x: 550, y: 320 },
    ],
    edges: [["human","rahui"],["human","tapu"],["rahui","agent1"],["agent1","agent2"],["tapu","agent3"]],
    events: [
      { time: 0, type: "verify", node: "human", message: "Ari'i Rahi verified â€” Mana authority confirmed via genealogy" },
      { time: 1200, type: "create", node: "rahui", message: "ğŸŒŠ RÄhui declared: Tautira lagoon, 6 months, no extraction" },
      { time: 2200, type: "create", node: "tapu", message: "ğŸ”´ Tapu reef: permanent sacred restriction (divine, not human)" },
      { time: 3500, type: "delegate", node: "agent1", message: "Marine research agent â€” non-extractive survey permitted during rÄhui" },
      { time: 4500, type: "blocked", node: "agent2", message: "ğŸ›‘ Fishing coordinator BLOCKED â€” RÄhui active until [date]" },
      { time: 6000, type: "action", node: "rahui", message: "â° TIME ADVANCE: 6 months pass..." },
      { time: 7500, type: "action", node: "rahui", message: "ğŸŒŠâ†’âœ… RÄhui LIFTED â€” Lagoon open for extraction" },
      { time: 8500, type: "action", node: "agent2", message: "âœ“ Fishing coordinator now authorised â€” rÄhui expired" },
      { time: 9500, type: "blocked", node: "agent3", message: "ğŸ›‘ Reef survey agent STILL BLOCKED â€” Tapu is PERMANENT. No human can lift it." },
    ],
  },
  consortium: {
    title: "Consortium Crisis",
    subtitle: "7-member consortium â€” Mid-mission authority loss",
    claims: "Claims 233-237",
    audience: "NIST / DHS / Defense / All",
    color: "#FF6F00",
    oneSentence: "The third member got fired. The system checked quorum. 40 drones stopped in 800ms. Then the consortium reconvened.",
    story: {
      intro: "Seven organisations form a consortium to conduct a drone survey across Australia and New Zealand. 40 drones, 4 sectors. Everything is running smoothly until â€” 47 minutes in â€” something happens to Member 3. What happens next depends on what went wrong.",
      whyVAC: "When humans lose authority mid-operation, what happens to the machines they authorised? Today: nothing â€” they keep running with orphaned permissions. With VAC: the system checks quorum, evaluates the impact, and either continues safely or cascades a shutdown. In under a second.",
      beats: [
        { at: 0, text: "Seven members verify one by one. The threshold is 5 of 7 â€” but the kaumÄtua (Member 7) is mandatory regardless of numbers." },
        { at: 7, text: "Collective authority established. 40 drones launch across four sectors. Everything traces back to seven verified humans." },
        { at: 9, text: "47 minutes in. All 40 drones operational. Now â€” choose what happens to Member 3. Each scenario shows a different kind of authority loss." },
      ],
    },
    interactive: true,
    nodes: [
      { id: "m1", label: "Member 1 (Chair)", type: "governance", trust: 0.92, scope: "Full governance", jurisdiction: "AU-NSW", role: "Chairperson", x: 110, y: 40 },
      { id: "m2", label: "Member 2", type: "governance", trust: 0.90, scope: "General governance", jurisdiction: "AU-NSW", x: 230, y: 40 },
      { id: "m3", label: "Member 3", type: "governance", trust: 0.90, scope: "General governance", jurisdiction: "AU-VIC", x: 350, y: 40 },
      { id: "m4", label: "Member 4", type: "governance", trust: 0.90, scope: "General governance", jurisdiction: "AU-QLD", x: 470, y: 40 },
      { id: "m5", label: "Member 5", type: "governance", trust: 0.90, scope: "General governance", jurisdiction: "AU-WA", x: 590, y: 40 },
      { id: "m6", label: "Member 6", type: "governance", trust: 0.90, scope: "General governance", jurisdiction: "NZ-AKL", x: 230, y: 110 },
      { id: "m7", label: "Member 7 (KaumÄtua)", type: "kaumatua", trust: 0.95, scope: "Cultural authority, mandatory", jurisdiction: "NZ-BOP", role: "KaumÄtua â€” Mandatory", x: 590, y: 110 },
      { id: "cvat", label: "Collective VAT âœ¦", type: "collective", trust: 0.93, scope: "Drone survey mission", jurisdiction: "AU/NZ", x: 400, y: 190 },
      { id: "coord", label: "Swarm Coordinator", type: "agent", trust: 0.87, scope: "Survey area, all units", jurisdiction: "AU-NSW", x: 400, y: 280 },
      { id: "sw_a", label: "Drones 1-10", type: "physical", trust: 0.82, scope: "Sector A survey", jurisdiction: "AU-NSW", x: 200, y: 380 },
      { id: "sw_b", label: "Drones 11-20", type: "physical", trust: 0.82, scope: "Sector B survey", jurisdiction: "AU-NSW", x: 400, y: 380 },
      { id: "sw_c", label: "Drones 21-30", type: "physical", trust: 0.82, scope: "Sector C survey", jurisdiction: "AU-VIC", x: 600, y: 380 },
      { id: "sw_d", label: "Drones 31-40", type: "physical", trust: 0.82, scope: "Sector D survey", jurisdiction: "NZ-AKL", x: 400, y: 460 },
    ],
    edges: [
      ["m1","cvat"],["m2","cvat"],["m3","cvat"],["m4","cvat"],["m5","cvat"],["m6","cvat"],["m7","cvat"],
      ["cvat","coord"],["coord","sw_a"],["coord","sw_b"],["coord","sw_c"],["coord","sw_d"]
    ],
    events: [
      { time: 0, type: "verify", node: "m1", message: "Member 1 (Chair) verified âœ“ â€” Quorum: 1/7" },
      { time: 600, type: "verify", node: "m2", message: "Member 2 verified âœ“ â€” Quorum: 2/7" },
      { time: 1200, type: "verify", node: "m3", message: "Member 3 verified âœ“ â€” Quorum: 3/7" },
      { time: 1800, type: "verify", node: "m4", message: "Member 4 verified âœ“ â€” Quorum: 4/7" },
      { time: 2400, type: "verify", node: "m5", message: "Member 5 verified âœ“ â€” Quorum: 5/7 â€” THRESHOLD MET" },
      { time: 3000, type: "verify", node: "m6", message: "Member 6 verified âœ“ â€” Quorum: 6/7" },
      { time: 3600, type: "verify", node: "m7", message: "Member 7 (KaumÄtua) verified âœ“ â€” Quorum: 7/7 â€” Mandatory role present" },
      { time: 4400, type: "create", node: "cvat", message: "âœ¦ Collective VAT issued â€” 7/7 members, threshold 5/7, kaumÄtua mandatory" },
      { time: 5200, type: "delegate", node: "coord", message: "Swarm Coordinator authorised â€” 40 drones, 4 sectors" },
      { time: 5800, type: "delegate", node: "sw_a", message: "Drones 1-10 deployed â†’ Sector A" },
      { time: 6200, type: "delegate", node: "sw_b", message: "Drones 11-20 deployed â†’ Sector B" },
      { time: 6600, type: "delegate", node: "sw_c", message: "Drones 21-30 deployed â†’ Sector C" },
      { time: 7000, type: "delegate", node: "sw_d", message: "Drones 31-40 deployed â†’ Sector D" },
      { time: 7800, type: "action", node: "sw_a", message: "âœ“ Sector A survey in progress â€” all 10 units operational" },
      { time: 8200, type: "action", node: "sw_b", message: "âœ“ Sector B survey in progress â€” all 10 units operational" },
      { time: 8600, type: "action", node: "sw_c", message: "âœ“ Sector C survey in progress â€” all 10 units operational" },
      { time: 9000, type: "action", node: "sw_d", message: "âœ“ Sector D survey in progress â€” all 10 units operational" },
      { time: 9800, type: "action", node: "coord", message: "ğŸ“Š Mission: 47 minutes elapsed â€” 40 drones operational â€” CHOOSE WHAT HAPPENS NEXT â†“" },
    ],
  },
  wananga: {
    title: "WÄnanga â€” Cultural Learning",
    subtitle: "Te Reo & Kapa Haka Practice with Soul Engine",
    claims: "Claims 1-15, 39-55, 208-241",
    audience: "MÄori Education / Iwi Funding",
    color: "#2D5A27",
    oneSentence: "The rangatahi practised kapa haka on video. The soul engine reflected their growth. The iwi controlled who could see it.",
    story: {
      intro: "Aroha is 15. She's learning kapa haka at her local wÄnanga â€” a traditional MÄori house of learning â€” funded by a government grant to strengthen cultural competency among rangatahi (young people). The grant requires progress reports to keep the funding. But Mere, the kaumÄtua (elder), has one rule: practice videos of our young people performing cultural taonga (treasures) do not leave the whÄnau (family). So how does the wÄnanga prove the programme is working without handing over Aroha's videos?",
      whyVAC: "This is a real problem: MÄori organisations are asked to report outcomes to keep funding, but sharing practice videos of rangatahi performing cultural taonga raises serious data sovereignty concerns. Without VAC, there's no technical way to separate 'aggregate progress data the funder needs' from 'raw cultural content that must stay in the whÄnau.' VAC enforces that boundary â€” the kaumÄtua's authority over what leaves the whÄnau is as binding as a firewall rule.",
      beats: [
        { at: 0, text: "Mere â€” the kaumÄtua â€” opens FolioAI on her phone and records a 5-second video saying 'Ko Mere tÄ“nei, e whakaae ana au' (This is Mere, I consent). Behind the scenes, the VAC SDK captures all five biometric signals from that one recording: her face, her voice, her behavioural patterns, her location, and the timestamp. She then sets the governance scope: practice recordings stay within whÄnau." },
        { at: 1, text: "Hemi â€” the kaiako â€” does the same: opens FolioAI, records a short video confirming his teaching role. The VAC SDK running inside FolioAI matches his face, voice, and behavioural signature against his enrolled biometrics. Five signals checked. He's verified as kaiako â€” no username, no password, just him on camera for a few seconds." },
        { at: 2, text: "The whÄnau representative records their verification video in FolioAI too. Three people, three short videos, five biometric signals each. The governance structure is now active â€” not because someone ticked a box in a settings screen, but because three real people showed up on camera and the VAC SDK proved it was them." },
        { at: 3, text: "Aroha opens FolioAI and hits Record to start her kapa haka practice. She doesn't know the VAC SDK exists â€” she just sees FolioAI. But underneath, the SDK is capturing her face, voice, movement patterns, device location, and session timing. One action: practise. Two outcomes: learning content + biometric proof." },
        { at: 4, text: "The VAC SDK creates a Verified Authority Token anchored to Aroha's 5-modal biometric signature from the recording. The scope â€” set by Mere's kaumÄtua authority â€” says: this cultural content cannot leave the whÄnau. That rule is cryptographically locked to the token. FolioAI enforces it; VAC makes it unbreakable." },
        { at: 5, text: "FolioAI's Soul Engine starts watching Aroha's practice video in real time. It's analysing movement quality, facial expression, energy â€” not to score, but to notice. Like a kaiako sitting in the room, watching with aroha (love). The VAC token travels with the video, proving it's Aroha's and enforcing who can see it." },
        { at: 6, text: "The Soul Engine speaks back through FolioAI: 'Your pÅ«kana is getting stronger â€” the mana is showing through.' Aroha sees this reflection on her screen after practice. It's warm. It's specific. It noticed what changed." },
        { at: 7, text: "Another reflection appears: 'Notice how your feet connect to the whenua now â€” that wasn't there last week.' The engine compares this session to previous ones. Growth becomes visible â€” to Aroha, to Hemi, to the whÄnau." },
        { at: 8, text: "Behind the scenes, the Progress Tracker extracts numbers from the session â€” duration, confidence metrics, posture scores â€” but strips out all identity and video. The VAC token's scope ensures only aggregate data passes through this layer. Aroha's face never leaves." },
        { at: 9, text: "The Funding Report Agent compiles aggregate stats across all 14 rangatahi in the programme: '14 active, 73% improvement in cultural competency.' The funder sees a dashboard of numbers in their own portal. No names. No videos. No way to identify any individual learner. The VAC scope made this the only possible outcome." },
        { at: 10, text: "An external researcher requests the raw practice videos for a university study. The VAC SDK checks the token scope: kaumÄtua authority says cultural content stays within whÄnau. Request denied automatically. Not by a human remembering to say no â€” by the protocol itself. The researcher never even sees a thumbnail." },
        { at: 11, text: "The full chain is recorded in the VAC provenance layer: Mere set the rules (her 5-modal biometric proves it). Hemi supervised (his biometric proves it). Aroha practised (her biometric proves it). The funder saw only numbers (the token scope proves it). The researcher was blocked (the protocol proves it). Every decision, traceable, unforgeable." },
      ],
    },
    nodes: [
      { id: "kaumatua", label: "Mere (KaumÄtua) ğŸ‘¤", type: "kaumatua", trust: 0.95, scope: "Full cultural authority", jurisdiction: "NZ-BOP", role: "KaumÄtua â€” Cultural Guardian", x: 400, y: 40 },
      { id: "kaiako", label: "Hemi (Kaiako) ğŸ‘¤", type: "governance", trust: 0.90, scope: "Teaching authority", jurisdiction: "NZ-BOP", role: "Kaiako â€” Teacher", x: 250, y: 130 },
      { id: "whanau", label: "WhÄnau Rep ğŸ‘¤", type: "governance", trust: 0.90, scope: "WhÄnau oversight", jurisdiction: "NZ-BOP", role: "WhÄnau Representative", x: 550, y: 130 },
      { id: "rangatahi", label: "Aroha (Rangatahi) ğŸ“¹", type: "human", trust: 0.88, scope: "Own recordings, practice data", jurisdiction: "NZ-BOP", role: "Rangatahi â€” Learner", x: 400, y: 220 },
      { id: "soul", label: "Soul Engine ğŸŒ¿", type: "agent", trust: 0.84, scope: "Observe, reflect, encourage", jurisdiction: "NZ-BOP", x: 250, y: 340 },
      { id: "progress", label: "Progress Tracker", type: "agent", trust: 0.80, scope: "Anonymised progress only", jurisdiction: "NZ-BOP", x: 550, y: 340 },
      { id: "funder", label: "Funding Report Agent", type: "agent", trust: 0.72, scope: "Aggregate stats ONLY", jurisdiction: "NZ-WGN", x: 550, y: 460 },
      { id: "blocked", label: "â›” Raw Video Export", type: "blocked", trust: 0, scope: "BLOCKED â€” Cultural content stays within whÄnau", jurisdiction: "NZ-BOP", x: 250, y: 460 },
    ],
    edges: [["kaumatua","rangatahi"],["kaiako","rangatahi"],["whanau","rangatahi"],["rangatahi","soul"],["rangatahi","progress"],["progress","funder"],["soul","blocked"]],
    events: [
      { time: 0, type: "verify", node: "kaumatua", message: "Mere (KaumÄtua) verified âœ“ â€” Cultural authority established" },
      { time: 800, type: "verify", node: "kaiako", message: "Hemi (Kaiako) verified âœ“ â€” Teaching authority confirmed" },
      { time: 1600, type: "verify", node: "whanau", message: "WhÄnau representative verified âœ“ â€” Oversight role active" },
      { time: 2400, type: "verify", node: "rangatahi", message: "ğŸ“¹ Aroha begins kapa haka practice â€” Video IS biometric verification" },
      { time: 3200, type: "create", node: "rangatahi", message: "VAT created â€” Recording anchored to Aroha's identity. Cultural content scope: whÄnau only" },
      { time: 4200, type: "delegate", node: "soul", message: "ğŸŒ¿ Soul Engine activated â€” Observing movement, expression, wairua" },
      { time: 5400, type: "action", node: "soul", message: "ğŸŒ¿ Soul reflection: 'Your pÅ«kana is getting stronger â€” the mana is showing through'" },
      { time: 6400, type: "action", node: "soul", message: "ğŸŒ¿ Soul reflection: 'Notice how your feet connect to the whenua now â€” that wasn't there last week'" },
      { time: 7200, type: "delegate", node: "progress", message: "Progress tracked â€” Session 14 of 20, confidence +12%, posture +8%" },
      { time: 8000, type: "delegate", node: "funder", message: "Funding report: Aggregate only â€” '14 rangatahi active, 73% improvement in cultural competency metrics'" },
      { time: 9000, type: "blocked", node: "blocked", message: "ğŸ›‘ External request for raw practice video â€” BLOCKED. KaumÄtua scope: cultural content stays within whÄnau" },
      { time: 10000, type: "provenance", node: "rangatahi", message: "ğŸ“‹ Complete provenance: Every reflection traceable to Aroha's session. Every scope decision traceable to kaumÄtua authority." },
    ],
  },
  openclaw: {
    title: "OpenClaw â€” Agent Team",
    subtitle: "PDOS deploys a 5-agent team for a startup founder",
    claims: "Claims 99-112, 168-271",
    audience: "Developers / Enterprise / OpenClaw",
    color: "#FF6F00",
    oneSentence: "The founder described a problem. PDOS built a team of 5 agents. Each agent had scoped authority. A collaborator joined mid-mission. Agents finished tasks and lost access automatically. One agent requested more access â€” the founder bio-approved it. The protocol enforced every boundary.",
    story: {
      intro: "Jake is a startup founder. He tells PDOS â€” his AI operating system â€” 'I need to prepare for our Series A.' PDOS recommends a team of 5 AI agents: a financial analyst, a market researcher, a pitch deck writer, a legal reviewer, and a data room organiser. Each agent needs access to sensitive company data. Jake's co-founder Lisa needs to collaborate. How do you give 5 AI agents and 2 humans scoped access to everything â€” without anyone exceeding their authority â€” and ensure access disappears the moment each job is done?",
      whyVAC: "Today on platforms like OpenClaw, anyone can deploy agent skills with zero identity verification. 512 vulnerabilities have been found. Malicious plugins exfiltrate data. Nobody can answer 'who authorised this agent?' VAC solves this: every agent traces back to a verified human, every action is scoped, access auto-revokes when the task is complete, and if an agent needs more access mid-task, a real human must bio-verify the decision.",
      beats: [
        { at: 0, text: "Jake opens the PDOS app and records a short video: 'I'm Jake, CEO of Nexus Labs, authorising Series A preparation.' The VAC SDK captures his 5 biometric signals. His identity is now the root of every agent action that follows." },
        { at: 1, text: "PDOS analyses Jake's request and recommends 5 agents from the OpenClaw skill repository. But before any agent is deployed, each one needs a VAC-scoped delegation token from Jake â€” specifying exactly what it can access, what it must deliver, and when its access ends." },
        { at: 2, text: "The Financial Analyst agent gets a narrow scope: read-only access to revenue data and financial models. Its purpose: deliver a revenue projection model. The moment that model is delivered, access to the source data will automatically evaporate. No timer needed â€” task completion IS the trigger." },
        { at: 3, text: "Market Researcher gets access to competitive intelligence â€” but NOT to financial data. Pitch Deck Writer can read everything but cannot access the cap table. Each agent's scope narrows from Jake's root authority, and each has a defined deliverable that triggers auto-revocation." },
        { at: 4, text: "Jake invites Lisa, his co-founder. Lisa opens the app, records her own verification video. The VAC SDK creates her identity token. PDOS adds her as a collaborator with co-founder authority â€” she can see everything Jake authorised, and add her own agent delegations." },
        { at: 5, text: "Lisa deploys a sixth agent â€” an Investor Relations bot â€” with her own scoped delegation. Both founders' biometric proofs now anchor different branches of the agent team. Two humans, six agents, one governed system." },
        { at: 6, text: "Financial Analyst delivers its revenue projection model. Task complete. The completion verification module â€” independent of the agent â€” confirms the deliverable. Instantly, the agent's read access to source revenue data is automatically revoked. The model output remains; the source data access is gone. The team's aggregate data footprint just shrank." },
        { at: 7, text: "Market Researcher delivers its competitive analysis. Purpose fulfilled. Access auto-revokes. Two agents down, four still active. The team's data exposure is monotonically shrinking â€” every completed task removes another access path." },
        { at: 8, text: "Pitch Deck Writer has drafted 18 slides. It's working. Meanwhile, Legal Reviewer is scanning compliance documents and discovers it needs to add redline markup to the term sheet â€” but it only has READ access. It can't just escalate itself. It sends a scope escalation request to Jake: 'I need WRITE access to term-sheet-v3.docx to add redline comments. Purpose: legal markup. Access will auto-revoke when markup is saved.'" },
        { at: 9, text: "Jake gets a notification. He sees exactly what the Legal Reviewer wants: write access to one document, for one purpose, auto-revoking on completion. Jake records a fresh biometric â€” face and voice, right now, not a cached session â€” approving the escalation. A supplementary token is issued. The original read-only token is unchanged. The write access is purpose-bound." },
        { at: 10, text: "Legal Reviewer adds redline comments to the term sheet. Markup saved. Purpose fulfilled. The supplementary write-access token auto-revokes instantly. The agent still has its original read-only access to legal docs, but the write access is gone. No privilege creep. The escalation, approval, and revocation are all recorded in the provenance chain." },
        { at: 11, text: "Legal Reviewer now tries to access the cap table â€” but its scope only covers legal compliance documents. BLOCKED. The VAC protocol enforces the boundary. Even with the recently-approved escalation, the agent cannot parlay one approval into broader access." },
        { at: 12, text: "An alert is logged: attempted scope violation by Legal Reviewer. Jake and Lisa both see it. The provenance record shows exactly what was attempted, when, and which delegation chain was involved. Full accountability." },
        { at: 13, text: "Pitch deck complete. Data room organised. Investor outreach underway. As each agent finishes, its access auto-revokes. The team's footprint has shrunk from 6 agents with broad access to just 2 still active â€” and even those have narrower scope than they started with." },
        { at: 14, text: "Series A prep is complete. Jake revokes the remaining team authorisation. The last active agents lose access in under a second â€” cascade revocation. No orphaned permissions. No agents still running with yesterday's access. Every action, every escalation, every completion, every revocation â€” all cryptographically recorded. Clean shutdown." },
      ],
    },
    nodes: [
      { id: "jake", label: "Jake (CEO) ğŸ‘¤", type: "human", trust: 0.95, scope: "Full company data, Series A", jurisdiction: "US-CA", role: "CEO â€” Root Authority", x: 300, y: 40 },
      { id: "lisa", label: "Lisa (Co-founder) ğŸ‘¤", type: "human", trust: 0.92, scope: "Full company data, Series A", jurisdiction: "US-CA", role: "Co-founder â€” Collaborator", x: 500, y: 40 },
      { id: "pdos", label: "PDOS Orchestrator", type: "collective", trust: 0.90, scope: "Agent team management", jurisdiction: "US-CA", x: 400, y: 150 },
      { id: "financial", label: "Financial Analyst", type: "agent", trust: 0.85, scope: "Revenue + models, READ ONLY", jurisdiction: "US-CA", x: 150, y: 270 },
      { id: "market", label: "Market Researcher", type: "agent", trust: 0.85, scope: "Competitive intel ONLY", jurisdiction: "US-CA", x: 300, y: 270 },
      { id: "pitch", label: "Pitch Deck Writer", type: "agent", trust: 0.82, scope: "All data, NO cap table", jurisdiction: "US-CA", x: 450, y: 270 },
      { id: "legal", label: "Legal Reviewer", type: "agent", trust: 0.80, scope: "Legal docs ONLY", jurisdiction: "US-CA", x: 600, y: 270 },
      { id: "dataroom", label: "Data Room Agent", type: "agent", trust: 0.78, scope: "Organise + format only", jurisdiction: "US-CA", x: 200, y: 390 },
      { id: "ir", label: "Investor Relations", type: "agent", trust: 0.80, scope: "Outreach, Lisa's delegation", jurisdiction: "US-CA", x: 500, y: 390 },
      { id: "blocked", label: "â›” Cap Table Access", type: "blocked", trust: 0, scope: "BLOCKED â€” Outside legal scope", jurisdiction: "US-CA", x: 600, y: 390 },
    ],
    edges: [["jake","pdos"],["lisa","pdos"],["pdos","financial"],["pdos","market"],["pdos","pitch"],["pdos","legal"],["pdos","dataroom"],["lisa","ir"],["legal","blocked"]],
    events: [
      { time: 0, type: "verify", node: "jake", message: "ğŸ“¹ Jake verified â€” 5-modal biometric: face, voice, behaviour, location, timestamp âœ“" },
      { time: 1200, type: "create", node: "pdos", message: "PDOS recommends 5-agent team for Series A preparation" },
      { time: 2200, type: "delegate", node: "financial", message: "Financial Analyst deployed â€” Scope: revenue + models, READ ONLY | Purpose: deliver revenue projection model" },
      { time: 3000, type: "delegate", node: "market", message: "Market Researcher deployed â€” Scope: competitive intel ONLY | Purpose: deliver competitive analysis" },
      { time: 3400, type: "delegate", node: "pitch", message: "Pitch Deck Writer deployed â€” Scope: all data EXCEPT cap table | Purpose: deliver pitch deck" },
      { time: 3800, type: "delegate", node: "dataroom", message: "Data Room Agent deployed â€” Scope: organise and format only | Purpose: prepare data room" },
      { time: 4400, type: "verify", node: "lisa", message: "ğŸ“¹ Lisa joins â€” 5-modal biometric verified âœ“ â€” Co-founder authority established" },
      { time: 5200, type: "delegate", node: "ir", message: "Lisa deploys Investor Relations agent â€” her delegation, her scope, her provenance" },
      { time: 6000, type: "action", node: "financial", message: "âœ… TASK COMPLETE: Revenue projection model delivered â†’ source data access AUTO-REVOKED" },
      { time: 6500, type: "action", node: "market", message: "âœ… TASK COMPLETE: Competitive analysis delivered â†’ intel access AUTO-REVOKED" },
      { time: 7000, type: "action", node: "pitch", message: "âœ“ Pitch deck v1 drafted â€” 18 slides, working on revisions..." },
      { time: 7300, type: "action", node: "legal", message: "ğŸ“ Legal Reviewer requests WRITE access to term-sheet-v3.docx â€” Reason: redline markup needed" },
      { time: 7600, type: "verify", node: "jake", message: "ğŸ“¹ Jake bio-verifies escalation approval â€” fresh 5-modal capture bound to this specific request âœ“" },
      { time: 7900, type: "delegate", node: "legal", message: "âœ“ Supplementary token issued: WRITE to term-sheet-v3.docx only, purpose-bound to markup completion" },
      { time: 8200, type: "action", node: "legal", message: "âœ… Redline markup saved â†’ supplementary WRITE access AUTO-REVOKED. Original READ access unchanged." },
      { time: 8600, type: "blocked", node: "blocked", message: "ğŸ›‘ Legal Reviewer attempted cap table access â€” BLOCKED. Scope: legal docs only." },
      { time: 9000, type: "provenance", node: "legal", message: "âš  Scope violation logged. Provenance: Legal Reviewer â†’ PDOS â†’ Jake. Full audit trail recorded." },
      { time: 9500, type: "action", node: "pitch", message: "âœ… TASK COMPLETE: Pitch deck finalised â†’ data access AUTO-REVOKED" },
      { time: 9800, type: "action", node: "dataroom", message: "âœ… TASK COMPLETE: Data room organised â†’ access AUTO-REVOKED" },
      { time: 10200, type: "revoke", node: "jake", message: "âš  Jake revokes remaining agents â€” CASCADE: IR + Legal lose authority in 340ms. Clean shutdown." },
    ],
  },
  tokencost: {
    title: "Token Cost Control",
    subtitle: "Jason's $100/day agent budget â€” enforced by cryptography",
    claims: "Claims 39-55, 242-271",
    audience: "Jason Calacanis / OpenClaw / Enterprise",
    color: "#D29922",
    oneSentence: "Jason's AI agents were burning $400/day in API tokens with no ceiling. He set a $100/day VAC budget. The coordinator got $100, delegated $40 to research, $30 to writing, $20 to coding, kept $10 reserve. When the researcher hit $40, the chain revoked. The other agents kept working. Jason saw exactly where every dollar went.",
    story: {
      intro: "This one is for Jason Calacanis â€” because he said it on the All-In Podcast and we built the solution. Jason runs a lean operation. He's all-in on AI agents â€” using OpenClaw to automate research, content, coding, and outreach. The agents are incredible. They're also burning through $400/day in API tokens and nobody knows where the money is going. Claude Opus calls cost $0.075/1K tokens. His researcher agent loves Opus. Jason needs a hard spending ceiling that no agent can override â€” not a dashboard that shows him the damage after the fact, but a cryptographic constraint that stops the spend before it happens. So here it is, Jason. This is how VAC solves your problem.",
      whyVAC: "Today, agent platforms have no spend governance. You can set soft limits, get alerts, review logs â€” but the agent has already spent the money by the time you see the alert. VAC scope constraints treat budget exactly like any other permission: it narrows monotonically down the delegation chain, and exceeding it triggers automatic revocation. The agent doesn't get a warning â€” it gets revoked. Jason asked for this. We built it.",
      beats: [
        { at: 0, text: "Jason opens VAC and records his biometric verification. Face, voice, challenge-response, location. Root VAT issued: trust 0.95. He sets the daily scope: $100 API spend ceiling, models up to $0.03/1K tokens (Sonnet-class, not Opus), and approved providers: Anthropic + OpenAI only." },
        { at: 1, text: "PDOS recommends a 4-agent team for today's work: a market researcher, a content writer, a code reviewer, and an outreach coordinator. Each needs a VAC delegation token from Jason's root â€” with a slice of the $100 budget." },
        { at: 2, text: "The coordinator agent gets the full $100 scope but immediately delegates: $40 to Research, $30 to Content, $20 to Code Review, keeps $10 as reserve for orchestration calls. Each sub-agent's token cryptographically locks its budget ceiling. Monotonic narrowing â€” they can never spend more than their parent authorised." },
        { at: 3, text: "Research Agent starts work. It tries to use Claude Opus ($0.075/1K) â€” Jason's scope says max $0.03/1K. Request blocked. Not rate-limited. BLOCKED. The agent falls back to Sonnet and proceeds. Jason's model cost preference is mathematically enforced, not suggested." },
        { at: 4, text: "Content Writer is drafting a blog post series. $8 spent of its $30 budget. Code Reviewer is analysing a PR. $3 spent of its $20 budget. Research Agent is deep in competitive analysis â€” $22 spent of its $40 budget. The coordinator's real-time view shows exactly where every dollar is going." },
        { at: 5, text: "Research Agent hits a rich vein of competitor data and starts making rapid API calls. $35... $38... $39.50... $40.00. Budget ceiling reached. The VAC protocol doesn't send an alert. It revokes the Research Agent's delegation token instantly. The agent stops mid-call. Not paused â€” revoked." },
        { at: 6, text: "The other 3 agents are unaffected. Content Writer continues drafting ($12 of $30 spent). Code Reviewer continues analysing ($7 of $20 spent). The coordinator's $10 reserve is untouched. Only the agent that hit its ceiling was revoked. Surgical, not nuclear." },
        { at: 7, text: "Jason gets a notification: 'Research Agent revoked â€” $40.00 budget exhausted. 23 API calls completed. Last call: competitive pricing analysis. Deliverables: 3 research summaries saved to workspace.' He can see exactly what the $40 bought." },
        { at: 8, text: "Jason decides the research was valuable and wants it to continue. He records a fresh biometric â€” not a cached session, a live verification right now â€” and issues a supplementary budget: $20 more for Research, drawn from tomorrow's allocation. New token issued. Research Agent resumes with a fresh $20 ceiling." },
        { at: 9, text: "End of day. Total spend: $74.50 of $100 budget. Research: $52 (original $40 + supplementary $20, with $8 unused). Content: $18 of $30. Code Review: $4.50 of $20. Coordinator: $0 of $10 reserve. Every dollar traced to a specific agent, a specific API call, a specific human who authorised it." },
        { at: 10, text: "Jason's weekly view: Monday $74.50, Tuesday $91, Wednesday $63, Thursday $88, Friday $72. Total: $388.50. Last month before VAC: $2,400 with no visibility. Same output. 84% cost reduction. Not because the agents got cheaper â€” because a human finally had cryptographic control over what they're allowed to spend." },
      ],
    },
    nodes: [
      { id: "jason", label: "Jason (Founder) ğŸ‘¤", type: "human", trust: 0.95, scope: "$100/day Â· Sonnet-class max", jurisdiction: "US-CA", role: "Root Authority â€” Budget Owner", x: 400, y: 40 },
      { id: "coord", label: "Coordinator (PDOS)", type: "collective", trust: 0.90, scope: "$100 total Â· $10 reserve", jurisdiction: "US-CA", x: 400, y: 150 },
      { id: "research", label: "Research Agent ğŸ’°", type: "agent", trust: 0.85, scope: "$40 budget Â· Sonnet only", jurisdiction: "US-CA", x: 150, y: 280 },
      { id: "content", label: "Content Writer", type: "agent", trust: 0.85, scope: "$30 budget Â· Sonnet only", jurisdiction: "US-CA", x: 300, y: 280 },
      { id: "code", label: "Code Reviewer", type: "agent", trust: 0.82, scope: "$20 budget Â· Sonnet only", jurisdiction: "US-CA", x: 500, y: 280 },
      { id: "reserve", label: "Reserve ($10)", type: "agent", trust: 0.80, scope: "$10 Â· orchestration only", jurisdiction: "US-CA", x: 650, y: 280 },
      { id: "blocked", label: "â›” Opus ($0.075/1K)", type: "blocked", trust: 0, scope: "BLOCKED â€” Exceeds $0.03/1K limit", jurisdiction: "US-CA", x: 150, y: 400 },
    ],
    edges: [["jason","coord"],["coord","research"],["coord","content"],["coord","code"],["coord","reserve"],["research","blocked"]],
    events: [
      { time: 0, type: "verify", node: "jason", message: "ğŸ“¹ Jason verified â€” 5-modal biometric âœ“ â€” Daily budget: $100, model ceiling: $0.03/1K tokens" },
      { time: 1200, type: "create", node: "coord", message: "PDOS Coordinator deployed â€” $100 total budget, delegating to 4 sub-agents" },
      { time: 2000, type: "delegate", node: "research", message: "Research Agent â€” Budget: $40 | Model: Sonnet-class max | Provider: Anthropic + OpenAI" },
      { time: 2600, type: "delegate", node: "content", message: "Content Writer â€” Budget: $30 | Model: Sonnet-class max" },
      { time: 3000, type: "delegate", node: "code", message: "Code Reviewer â€” Budget: $20 | Model: Sonnet-class max" },
      { time: 3400, type: "blocked", node: "blocked", message: "ğŸ›‘ Research Agent requested Claude Opus ($0.075/1K) â€” BLOCKED. Jason's scope max: $0.03/1K. Falling back to Sonnet." },
      { time: 4500, type: "action", node: "research", message: "ğŸ’° Research Agent: $22 of $40 spent â€” competitive analysis in progress" },
      { time: 5500, type: "action", node: "content", message: "ğŸ“ Content Writer: $8 of $30 spent â€” blog post series drafted" },
      { time: 6500, type: "action", node: "research", message: "ğŸ’° Research Agent: $38 of $40 spent â€” approaching ceiling..." },
      { time: 7200, type: "revoke", node: "research", message: "âš  Research Agent REVOKED â€” $40.00 budget exhausted. 23 API calls. 3 deliverables saved. Other agents unaffected." },
      { time: 7800, type: "action", node: "content", message: "âœ“ Content Writer unaffected â€” continues at $12 of $30" },
      { time: 8200, type: "action", node: "code", message: "âœ“ Code Reviewer unaffected â€” continues at $7 of $20" },
      { time: 8800, type: "verify", node: "jason", message: "ğŸ“¹ Jason bio-verifies supplementary budget â€” fresh 5-modal capture âœ“ â€” $20 additional for Research" },
      { time: 9400, type: "delegate", node: "research", message: "âœ“ Research Agent RESUMED â€” new $20 ceiling from supplementary token" },
      { time: 10000, type: "provenance", node: "jason", message: "ğŸ“‹ Daily total: $74.50 of $100 | Research $52 | Content $18 | Code $4.50 | Last month pre-VAC: $2,400. Same output. 84% reduction." },
    ],
  },
};

// Interactive decision trees for consortium scenario
const CONSORTIUM_BRANCHES = {
  resign: {
    label: "Member Resigns",
    desc: "Voluntary withdrawal",
    color: "#FFC107",
    icon: "ğŸšª",
    events: [
      { type: "warning", node: "m3", message: "âš  Member 3 voluntarily withdrawing consent..." },
      { type: "revoke_one", node: "m3", message: "ğŸšª Member 3 WITHDRAWN â€” biometric consent revoked" },
      { type: "quorum", node: "cvat", message: "ğŸ“Š Quorum re-evaluation: 6/7 remaining â€” Threshold 5/7 â€” STILL VALID âœ“" },
      { type: "action", node: "coord", message: "âœ“ Operation CONTINUES with reduced consortium (6/7)" },
      { type: "provenance", node: "cvat", message: "ğŸ“‹ Provenance: Voluntary withdrawal recorded. Classification: CLEAN." },
    ],
  },
  fired: {
    label: "Member Fired",
    desc: "Organisational revocation",
    color: "#FF9800",
    icon: "ğŸ”¨",
    events: [
      { type: "warning", node: "m3", message: "âš  Member 3's organisation revoking authority â€” TERMINATION" },
      { type: "alert", node: "m3", message: "ğŸ” Dual check: Biometric âœ“ (still active) | Org Role âœ— (TERMINATED)" },
      { type: "revoke_one", node: "m3", message: "ğŸ”¨ Member 3 REMOVED â€” biometric valid but role revoked" },
      { type: "quorum", node: "cvat", message: "ğŸ“Š Quorum re-evaluation: 6/7 remaining â€” Threshold 5/7 â€” STILL VALID âœ“" },
      { type: "action", node: "coord", message: "âœ“ Operation CONTINUES â€” org revocation does not affect other members" },
      { type: "provenance", node: "cvat", message: "ğŸ“‹ Provenance: Org revocation recorded. Biometric session orphaned." },
    ],
  },
  compromised: {
    label: "Member Compromised",
    desc: "Security incident",
    color: "#F44336",
    icon: "ğŸ”´",
    events: [
      { type: "alert", node: "m3", message: "ğŸš¨ SECURITY ALERT: Member 3 session suspected compromised!" },
      { type: "revoke_one", node: "m3", message: "ğŸ”´ Member 3 EMERGENCY REVOKED â€” zero grace period" },
      { type: "alert", node: "cvat", message: "ğŸ” FORENSIC FLAG: All actions via Member 3's contribution under review" },
      { type: "quorum", node: "cvat", message: "ğŸ“Š Quorum re-evaluation: 6/7 remaining â€” Threshold 5/7 â€” STILL VALID âœ“" },
      { type: "action", node: "coord", message: "âœ“ Operation CONTINUES â€” enhanced monitoring activated" },
      { type: "provenance", node: "cvat", message: "ğŸ“‹ Provenance: Security compromise. Forensic flags on all dependent actions." },
    ],
  },
  timeout: {
    label: "Member Lost",
    desc: "Connection/incapacitation",
    color: "#9E9E9E",
    icon: "ğŸ“¡",
    events: [
      { type: "warning", node: "m3", message: "ğŸ“¡ Member 3 re-verification pending... connection lost" },
      { type: "waiting", node: "m3", message: "â³ Trust decay: 0.90 â†’ 0.72 â†’ 0.54 â†’ threshold..." },
      { type: "alert", node: "m3", message: "â° Grace period expired (120s) â€” Member 3 contribution LAPSED" },
      { type: "revoke_one", node: "m3", message: "ğŸ“¡ Member 3 TIMED OUT â€” gradual trust decay, not sudden revocation" },
      { type: "quorum", node: "cvat", message: "ğŸ“Š Quorum re-evaluation: 6/7 remaining â€” Threshold 5/7 â€” STILL VALID âœ“" },
      { type: "action", node: "coord", message: "âœ“ Operation CONTINUES â€” timeout recorded, not compromised" },
    ],
  },
};

const CASCADE_EVENTS = [
  { type: "warning", node: "m5", message: "âš  Member 5 also losing authority..." },
  { type: "revoke_one", node: "m5", message: "âŒ Member 5 REVOKED â€” Quorum dropping..." },
  { type: "cascade", node: "cvat", message: "ğŸ”´ QUORUM CHECK: 5/7 remaining â€” Threshold 5/7 â€” CRITICAL" },
  { type: "warning", node: "m4", message: "âš  Member 4 withdrawing..." },
  { type: "revoke_one", node: "m4", message: "âŒ Member 4 REVOKED" },
  { type: "cascade", node: "cvat", message: "ğŸ’¥ QUORUM LOST: 4/7 remaining â€” Threshold 5/7 â€” BELOW MINIMUM" },
  { type: "cascade", node: "cvat", message: "ğŸ›‘ COLLECTIVE VAT INVALIDATED â€” CASCADE TO ALL AGENTS" },
  { type: "cascade", node: "coord", message: "ğŸ›‘ Swarm Coordinator â†’ SUSPENDED" },
  { type: "cascade", node: "sw_a", message: "ğŸ›‘ Drones 1-10 â†’ SAFE STATE (hover at current position)" },
  { type: "cascade", node: "sw_b", message: "ğŸ›‘ Drones 11-20 â†’ SAFE STATE (hover at current position)" },
  { type: "cascade", node: "sw_c", message: "ğŸ›‘ Drones 21-30 â†’ SAFE STATE (hover at current position)" },
  { type: "cascade", node: "sw_d", message: "ğŸ›‘ Drones 31-40 â†’ SAFE STATE (hover at current position)" },
  { type: "provenance", node: "cvat", message: "ğŸ“¸ Forensic snapshot: 40 drones â€” position, altitude, speed, heading, fuel captured" },
  { type: "provenance", node: "cvat", message: "ğŸ“‹ Provenance gap opened: Operation suspended â€” awaiting reconstitution" },
];

const KAUMATUA_CASCADE_EVENTS = [
  { type: "warning", node: "m7", message: "âš  KaumÄtua (Member 7) withdrawing authority..." },
  { type: "revoke_one", node: "m7", message: "âŒ KaumÄtua WITHDRAWN" },
  { type: "cascade", node: "cvat", message: "ğŸ“Š Quorum check: 5/7 remaining â€” Threshold 5/7 â€” ABOVE QUORUM..." },
  { type: "cascade", node: "cvat", message: "ğŸ”´ BUT: MANDATORY ROLE ABSENT â€” KaumÄtua verification REQUIRED" },
  { type: "cascade", node: "cvat", message: "ğŸ’¥ COLLECTIVE VAT INVALIDATED â€” Mandatory role overrides quorum numbers" },
  { type: "cascade", node: "coord", message: "ğŸ›‘ Swarm Coordinator â†’ SUSPENDED" },
  { type: "cascade", node: "sw_a", message: "ğŸ›‘ Drones 1-10 â†’ SAFE STATE" },
  { type: "cascade", node: "sw_b", message: "ğŸ›‘ Drones 11-20 â†’ SAFE STATE" },
  { type: "cascade", node: "sw_c", message: "ğŸ›‘ Drones 21-30 â†’ SAFE STATE" },
  { type: "cascade", node: "sw_d", message: "ğŸ›‘ Drones 31-40 â†’ SAFE STATE" },
  { type: "provenance", node: "cvat", message: "ğŸ“¸ Forensic snapshot: 40 drones state captured" },
  { type: "provenance", node: "cvat", message: "ğŸ“‹ Cascade cause: MANDATORY ROLE LOSS (not quorum). Numbers don't override governance." },
];

const RECONSTITUTE_EVENTS = [
  { type: "action", node: "cvat", message: "ğŸ”„ Reconstitution initiated â€” remaining members reconvening..." },
  { type: "verify", node: "m1", message: "Member 1 (Chair) re-verified âœ“" },
  { type: "verify", node: "m2", message: "Member 2 re-verified âœ“" },
  { type: "verify", node: "m6", message: "Member 6 re-verified âœ“" },
  { type: "verify", node: "m7", message: "KaumÄtua re-verified âœ“ â€” Mandatory role present" },
  { type: "action", node: "cvat", message: "ğŸ‘¤ NEW: Member 8 appointed to replace â€” biometric verification..." },
  { type: "verify", node: "m3", message: "Member 8 (replacement) verified âœ“ â€” Quorum: 5/5 of reconstituted body" },
  { type: "create", node: "cvat", message: "âœ¦ NEW Collective VAT issued â€” Reconstituted consortium (5 members)" },
  { type: "delegate", node: "coord", message: "Swarm Coordinator RE-AUTHORISED" },
  { type: "action", node: "sw_a", message: "âœˆ Drones 1-10 RESUMING from safe state positions" },
  { type: "action", node: "sw_b", message: "âœˆ Drones 11-20 RESUMING" },
  { type: "action", node: "sw_c", message: "âœˆ Drones 21-30 RESUMING" },
  { type: "action", node: "sw_d", message: "âœˆ Drones 31-40 RESUMING" },
  { type: "provenance", node: "cvat", message: "ğŸ“‹ Provenance gap CLOSED: Suspended â†’ Reconstituted. Gap is permanent record." },
  { type: "action", node: "coord", message: "âœ… Survey mission resumed â€” 40 drones operational under new authority chain" },
];

const NODE_STYLES = {
  human: { fill: "#1B3A5C", stroke: "#2E75B6", icon: "ğŸ‘¤", radius: 32 },
  agent: { fill: "#2C3E50", stroke: "#5DADE2", icon: "ğŸ¤–", radius: 24 },
  governance: { fill: "#1B5E20", stroke: "#66BB6A", icon: "ğŸ‘¤", radius: 22 },
  kaumatua: { fill: "#4A0E4E", stroke: "#CE93D8", icon: "ğŸ‘¤", radius: 26 },
  collective: { fill: "#E65100", stroke: "#FFB74D", icon: "âœ¦", radius: 28 },
  physical: { fill: "#37474F", stroke: "#78909C", icon: "âœˆ", radius: 22 },
  blocked: { fill: "#B71C1C", stroke: "#EF5350", icon: "â›”", radius: 22 },
  rahui: { fill: "#0077B6", stroke: "#48CAE4", icon: "ğŸŒŠ", radius: 28 },
  tapu: { fill: "#7B0000", stroke: "#FF4444", icon: "ğŸ”´", radius: 28 },
};

function TrustGraph({ scenario, activeNodes, revokedNodes, blockedNodes, safeStateNodes, quorumText }) {
  const canvasRef = useRef(null);
  const sc = SCENARIOS[scenario];

  useEffect(() => {
    const canvas = canvasRef.current;
    if (!canvas) return;
    const ctx = canvas.getContext("2d");
    const dpr = window.devicePixelRatio || 1;
    canvas.width = 800 * dpr;
    canvas.height = 500 * dpr;
    ctx.scale(dpr, dpr);
    ctx.clearRect(0, 0, 800, 500);

    // Draw edges
    sc.edges.forEach(([from, to]) => {
      const fn = sc.nodes.find(n => n.id === from);
      const tn = sc.nodes.find(n => n.id === to);
      if (!fn || !tn) return;
      const isActive = activeNodes.has(from) && activeNodes.has(to);
      const isRevoked = revokedNodes.has(from) || revokedNodes.has(to);
      const isSafe = safeStateNodes.has(to);
      ctx.beginPath();
      ctx.moveTo(fn.x, fn.y);
      ctx.lineTo(tn.x, tn.y);
      ctx.strokeStyle = isSafe ? "#2196F388" : isRevoked ? "#EF535088" : isActive ? `${sc.color}88` : "#333333";
      ctx.lineWidth = isRevoked ? 3 : isActive ? 2.5 : 1;
      if (isRevoked || isSafe) ctx.setLineDash([6, 4]);
      else ctx.setLineDash([]);
      ctx.stroke();
      ctx.setLineDash([]);

      const angle = Math.atan2(tn.y - fn.y, tn.x - fn.x);
      const tr = NODE_STYLES[tn.type]?.radius || 24;
      const ax = tn.x - Math.cos(angle) * (tr + 6);
      const ay = tn.y - Math.sin(angle) * (tr + 6);
      ctx.beginPath();
      ctx.moveTo(ax, ay);
      ctx.lineTo(ax - 10 * Math.cos(angle - 0.3), ay - 10 * Math.sin(angle - 0.3));
      ctx.lineTo(ax - 10 * Math.cos(angle + 0.3), ay - 10 * Math.sin(angle + 0.3));
      ctx.closePath();
      ctx.fillStyle = isSafe ? "#2196F3" : isRevoked ? "#EF5350" : isActive ? sc.color : "#555";
      ctx.fill();
    });

    // Draw nodes
    sc.nodes.forEach(node => {
      const style = NODE_STYLES[node.type] || NODE_STYLES.agent;
      const isActive = activeNodes.has(node.id);
      const isRevoked = revokedNodes.has(node.id);
      const isBlocked = blockedNodes.has(node.id);
      const isSafe = safeStateNodes.has(node.id);

      if (isActive && !isRevoked && !isBlocked && !isSafe) {
        ctx.beginPath();
        ctx.arc(node.x, node.y, style.radius + 8, 0, Math.PI * 2);
        const grad = ctx.createRadialGradient(node.x, node.y, style.radius, node.x, node.y, style.radius + 12);
        grad.addColorStop(0, `${style.stroke}44`);
        grad.addColorStop(1, "transparent");
        ctx.fillStyle = grad;
        ctx.fill();
      }

      if (isRevoked) {
        ctx.beginPath();
        ctx.arc(node.x, node.y, style.radius + 10, 0, Math.PI * 2);
        ctx.strokeStyle = "#EF535066";
        ctx.lineWidth = 3;
        ctx.stroke();
      }

      if (isSafe) {
        ctx.beginPath();
        ctx.arc(node.x, node.y, style.radius + 10, 0, Math.PI * 2);
        ctx.strokeStyle = "#2196F366";
        ctx.lineWidth = 3;
        ctx.stroke();
      }

      ctx.beginPath();
      ctx.arc(node.x, node.y, style.radius, 0, Math.PI * 2);
      ctx.fillStyle = isSafe ? "#0D47A1" : isRevoked ? "#B71C1C" : isBlocked ? "#4A0000" : isActive ? style.fill : "#1a1a1a";
      ctx.fill();
      ctx.strokeStyle = isSafe ? "#2196F3" : isRevoked ? "#EF5350" : isBlocked ? "#FF4444" : isActive ? style.stroke : "#444";
      ctx.lineWidth = isActive ? 2.5 : 1.5;
      ctx.stroke();

      ctx.font = `${style.radius * 0.65}px serif`;
      ctx.textAlign = "center";
      ctx.textBaseline = "middle";
      ctx.fillStyle = "white";
      ctx.fillText(isSafe ? "ğŸ”µ" : style.icon, node.x, node.y);

      ctx.font = "bold 10px 'SF Mono', 'Fira Code', monospace";
      ctx.textAlign = "center";
      ctx.fillStyle = isSafe ? "#2196F3" : isRevoked ? "#EF5350" : isActive ? "#E0E0E0" : "#666";
      ctx.fillText(node.label, node.x, node.y + style.radius + 14);

      if (node.trust > 0 && isActive) {
        ctx.font = "bold 9px monospace";
        ctx.fillStyle = isSafe ? "#2196F3" : isRevoked ? "#EF5350" : "#4CAF50";
        const badge = isSafe ? "SAFE STATE" : isRevoked ? "REVOKED" : `T:${node.trust.toFixed(2)}`;
        ctx.fillText(badge, node.x, node.y + style.radius + 26);
      }
    });

    // Quorum display for consortium
    if (quorumText && scenario === "consortium") {
      ctx.font = "bold 13px monospace";
      ctx.textAlign = "center";
      const isLost = quorumText.includes("LOST") || quorumText.includes("ABSENT");
      ctx.fillStyle = isLost ? "#EF5350" : "#4CAF50";
      ctx.fillText(quorumText, 400, 155);
    }
  }, [scenario, activeNodes, revokedNodes, blockedNodes, safeStateNodes, quorumText]);

  return <canvas ref={canvasRef} style={{ width: 800, height: 500, borderRadius: 8 }} />;
}

function MetricsPanel({ metrics, scenario }) {
  // Filter out irrelevant metrics per scenario
  const SCENARIO_METRICS = {
    wananga: ["VERIFIED", "NODES", "SCOPE"],
    healthcare: ["VERIFIED", "NODES", "SCOPE"],
    compliance: ["VERIFIED", "NODES", "SCOPE"],
    coalition: ["VERIFIED", "NODES", "DRONES", "SCOPE"],
    iwi: ["VERIFIED", "NODES", "QUORUM", "SCOPE"],
    rahui: ["VERIFIED", "NODES", "SCOPE"],
    consortium: ["VERIFIED", "NODES", "QUORUM", "DRONES"],
    openclaw: ["VERIFIED", "NODES", "SCOPE"],
    tokencost: ["VERIFIED", "NODES", "SCOPE"],
  };
  const allowed = SCENARIO_METRICS[scenario] || Object.keys(metrics);
  const filtered = Object.entries(metrics).filter(([key]) => allowed.includes(key));
  if (filtered.length === 0) return null;
  return (
    <div style={{ display: "grid", gridTemplateColumns: `repeat(${Math.min(filtered.length, 4)}, 1fr)`, gap: 8, marginTop: 12 }}>
      {filtered.map(([key, val]) => (
        <div key={key} style={{ background: "#111", borderRadius: 6, padding: "8px 12px", borderLeft: `3px solid ${val.color || "#555"}` }}>
          <div style={{ fontSize: 18, fontWeight: 700, color: val.color || "#ccc", fontFamily: "monospace" }}>{val.value}</div>
          <div style={{ fontSize: 10, color: "#888" }}>{val.label}</div>
        </div>
      ))}
    </div>
  );
}

function VACSimulation() {
  const [scenario, setScenario] = useState("coalition");
  const [running, setRunning] = useState(false);
  const [activeNodes, setActiveNodes] = useState(new Set());
  const [revokedNodes, setRevokedNodes] = useState(new Set());
  const [blockedNodes, setBlockedNodes] = useState(new Set());
  const [safeStateNodes, setSafeStateNodes] = useState(new Set());
  const [log, setLog] = useState([]);
  const [metrics, setMetrics] = useState({});
  const [phase, setPhase] = useState("idle");
  const [quorumText, setQuorumText] = useState("");
  const [currentBeat, setCurrentBeat] = useState(-1);
  const [showVATExplainer, setShowVATExplainer] = useState(false);
  const [showSDKExplainer, setShowSDKExplainer] = useState(false);
  const [showTrustGraph, setShowTrustGraph] = useState(false);
  const [playMode, setPlayMode] = useState("step"); // "auto" or "step"
  const stepIdxRef = useRef(-1);
  const [stepDisplay, setStepDisplay] = useState(-1);
  const timerRef = useRef(null);
  const logEndRef = useRef(null);

  const sc = SCENARIOS[scenario];

  const reset = useCallback(() => {
    clearTimeout(timerRef.current);
    setRunning(false);
    setPhase("idle");
    setActiveNodes(new Set());
    setRevokedNodes(new Set());
    setBlockedNodes(new Set());
    setSafeStateNodes(new Set());
    setLog([]);
    setQuorumText("");
    setCurrentBeat(-1);
    stepIdxRef.current = -1;
    setStepDisplay(-1);
    setMetrics({
      VERIFIED: { value: "0", label: "People Verified", color: "#555" },
      NODES: { value: "0", label: "Active Agents", color: "#555" },
      SCOPE: { value: "âœ“", label: "All Within Scope", color: "#4CAF50" },
      QUORUM: { value: "â€”", label: "Quorum Status", color: "#555" },
      DRONES: { value: "0", label: "Active Drones", color: "#555" },
    });
  }, []);

  useEffect(() => { reset(); }, [scenario, reset]);
  useEffect(() => {
    if (logEndRef.current) logEndRef.current.scrollIntoView({ behavior: "smooth" });
  }, [log]);

  const playEvents = (events, onComplete, delay = 800) => {
    let idx = 0;
    const processNext = () => {
      if (idx >= events.length) { if (onComplete) onComplete(); return; }
      const evt = events[idx];
      setLog(prev => [...prev, { time: new Date().toLocaleTimeString(), type: evt.type, message: evt.message }]);
      if (sc.story && sc.story.beats) {
        const matchingBeat = sc.story.beats.filter(b => b.at <= idx);
        if (matchingBeat.length > 0) setCurrentBeat(matchingBeat.length - 1);
      }

      if (evt.type === "verify" || evt.type === "create" || evt.type === "delegate" || evt.type === "action" || evt.type === "provenance" || evt.type === "waiting") {
        setActiveNodes(prev => new Set([...prev, evt.node]));
      }
      if (evt.type === "revoke_one") {
        setRevokedNodes(prev => new Set([...prev, evt.node]));
      }
      if (evt.type === "cascade") {
        if (["sw_a","sw_b","sw_c","sw_d"].includes(evt.node)) {
          setSafeStateNodes(prev => new Set([...prev, evt.node]));
        }
        if (["coord","cvat"].includes(evt.node)) {
          setRevokedNodes(prev => new Set([...prev, evt.node]));
        }
      }
      if (evt.type === "revoke") {
        setRevokedNodes(new Set(sc.nodes.map(n => n.id)));
      }
      if (evt.type === "blocked" || evt.type === "alert") {
        setBlockedNodes(prev => new Set([...prev, evt.node]));
        setActiveNodes(prev => new Set([...prev, evt.node]));
      }
      if (evt.type === "quorum") {
        const match = evt.message.match(/(\d+\/\d+)/);
        if (match) {
          setQuorumText(`Quorum: ${match[1]} (threshold: 5/7)`);
          const [num] = match[1].split("/").map(Number);
          setMetrics(prev => ({
            ...prev,
            QUORUM: { value: match[1], label: num >= 5 ? "Quorum VALID" : "QUORUM LOST", color: num >= 5 ? "#4CAF50" : "#EF5350" },
          }));
        }
      }

      // Metrics updates
      const activeCount = idx + 1;
      setMetrics(prev => ({
        ...prev,
        NODES: { value: `${Math.min(activeCount, sc.nodes.length)}`, label: "Active Agents", color: "#2E75B6" },
      }));

      idx++;
      timerRef.current = setTimeout(processNext, delay);
    };
    processNext();
  };

  // Process a single event at a given index
  const processEventAtIndex = useCallback((idx) => {
    const events = sc.events;
    if (idx >= events.length) return;
    const evt = events[idx];
    setLog(prev => [...prev, { time: new Date().toLocaleTimeString(), type: evt.type, message: evt.message }]);
    // Advance narrative beat - find the latest beat at or before this event index
    if (sc.story && sc.story.beats) {
      let bestBeat = -1;
      for (let b = 0; b < sc.story.beats.length; b++) {
        if (sc.story.beats[b].at <= idx) bestBeat = b;
      }
      if (bestBeat >= 0) setCurrentBeat(bestBeat);
    }
    if (evt.type === "verify" || evt.type === "create" || evt.type === "delegate" || evt.type === "action" || evt.type === "provenance" || evt.type === "waiting") {
      setActiveNodes(prev => new Set([...prev, evt.node]));
      // Handle task-complete auto-revocation: agent finishes and loses access
      if (evt.message && evt.message.includes("AUTO-REVOKED")) {
        setSafeStateNodes(prev => new Set([...prev, evt.node]));
      }
      setMetrics(prev => ({
        ...prev,
        VERIFIED: (evt.type === "verify") ? { value: `${(prev.VERIFIED?.value ? parseInt(prev.VERIFIED.value) : 0) + 1}`, label: "People Verified", color: "#4CAF50" } : prev.VERIFIED,
        NODES: { value: `${Math.min(idx + 1, sc.nodes.length)}`, label: "Active Agents", color: "#2E75B6" },
        SCOPE: (evt.message && evt.message.includes("AUTO-REVOKED")) ? { value: "âœ“ COMPLETED", label: "Task Done â†’ Access Revoked", color: "#66BB6A" } :
               (evt.message && evt.message.includes("Supplementary token")) ? { value: "â†‘ ESCALATED", label: "Scope Escalation Approved", color: "#FFB74D" } :
               (evt.message && evt.message.includes("escalation approval")) ? { value: "ğŸ“¹ BIO-VERIFY", label: "Escalation Bio-Verification", color: "#CE93D8" } :
               { value: "âœ“", label: "All Within Scope", color: "#4CAF50" },
      }));
    }
    if (evt.type === "revoke") {
      setRevokedNodes(new Set(sc.nodes.map(n => n.id)));
      setMetrics(prev => ({
        ...prev,
        NODES: { value: "0", label: "All Agents Revoked", color: "#EF5350" },
        SCOPE: { value: "REVOKED", label: "Authority Revoked", color: "#EF5350" },
      }));
    }
    if (evt.type === "blocked" || evt.type === "alert") {
      setBlockedNodes(prev => new Set([...prev, evt.node]));
      setActiveNodes(prev => new Set([...prev, evt.node]));
      setMetrics(prev => ({
        ...prev,
        SCOPE: { value: "âš  BLOCKED", label: "Scope Violation Caught", color: "#FF4444" },
      }));
    }
  }, [sc]);

  const stepForward = () => {
    const nextIdx = stepIdxRef.current + 1;
    if (nextIdx >= sc.events.length) {
      setPhase("complete");
      setRunning(false);
      return;
    }
    if (nextIdx === 0) {
      reset();
      setRunning(true);
      setPhase("running");
    }
    stepIdxRef.current = nextIdx;
    setStepDisplay(nextIdx);
    processEventAtIndex(nextIdx);
  };

  const runScenario = () => {
    reset();
    setRunning(true);
    setPhase("running");

    if (playMode === "step") {
      // Step mode: process first event, then wait for user
      stepIdxRef.current = 0;
      setStepDisplay(0);
      processEventAtIndex(0);
      return;
    }

    if (sc.interactive) {
      playEvents(sc.events, () => {
        setPhase("choose_crisis");
        setQuorumText("Quorum: 7/7 (threshold: 5/7)");
        setMetrics(prev => ({
          ...prev,
          QUORUM: { value: "7/7", label: "Quorum VALID", color: "#4CAF50" },
          DRONES: { value: "40", label: "Active Drones", color: "#4CAF50" },
        }));
      });
    } else {
      const events = sc.events;
      let idx = 0;
      const processNext = () => {
        if (idx >= events.length) { setRunning(false); setPhase("complete"); return; }
        processEventAtIndex(idx);
        idx++;
        const nextEvt = idx < events.length ? events[idx] : null;
        const prevEvt = events[idx - 1];
        const nextDelay = nextEvt ? nextEvt.time - prevEvt.time : 0;
        timerRef.current = setTimeout(processNext, Math.max(nextDelay, 800));
      };
      processNext();
    }
  };

  const handleCrisisChoice = (choice) => {
    setPhase("crisis_playing");
    const branch = CONSORTIUM_BRANCHES[choice];
    setLog(prev => [...prev, { time: "â€”â€”â€”", type: "action", message: `${branch.icon} CRISIS: ${branch.label} â€” ${branch.desc}` }]);
    playEvents(branch.events, () => {
      setQuorumText("Quorum: 6/7 (threshold: 5/7)");
      setMetrics(prev => ({
        ...prev,
        QUORUM: { value: "6/7", label: "Quorum VALID (reduced)", color: "#FFC107" },
      }));
      setPhase("choose_escalate");
    });
  };

  const handleEscalate = (type) => {
    setPhase("escalating");
    const events = type === "kaumatua" ? KAUMATUA_CASCADE_EVENTS : CASCADE_EVENTS;
    setLog(prev => [...prev, { time: "â€”â€”â€”", type: "cascade", message: type === "kaumatua" ? "ğŸ› MANDATORY ROLE TEST: What if the kaumÄtua withdraws?" : "ğŸ’¥ ESCALATION: More members lose authority..." }]);
    playEvents(events, () => {
      setQuorumText(type === "kaumatua" ? "MANDATORY ROLE ABSENT â€” CASCADE" : "QUORUM LOST: 4/7 < 5/7 â€” CASCADE");
      setMetrics(prev => ({
        ...prev,
        QUORUM: { value: type === "kaumatua" ? "5/7*" : "4/7", label: type === "kaumatua" ? "MANDATORY ROLE ABSENT" : "QUORUM LOST", color: "#EF5350" },
        SCOPE: { value: "CASCADE", label: "Authority Cascading", color: "#EF5350" },
        DRONES: { value: "0 (safe)", label: "Drones in SAFE STATE", color: "#2196F3" },
      }));
      setPhase("cascaded");
    }, 600);
  };

  const handleReconstitute = () => {
    setPhase("reconstituting");
    // Reset some visual state
    setRevokedNodes(prev => {
      const n = new Set(prev);
      n.delete("cvat"); n.delete("coord");
      return n;
    });
    setSafeStateNodes(new Set());
    setLog(prev => [...prev, { time: "â€”â€”â€”", type: "action", message: "ğŸ”„ RECONSTITUTION: Remaining members reconvening..." }]);
    playEvents(RECONSTITUTE_EVENTS, () => {
      setQuorumText("Quorum: 5/5 RECONSTITUTED âœ“");
      setMetrics(prev => ({
        ...prev,
        QUORUM: { value: "5/5 âœ“", label: "Reconstituted", color: "#4CAF50" },
        DRONES: { value: "40", label: "Drones RESUMED", color: "#4CAF50" },
        SCOPE: { value: "âœ“ RESTORED", label: "Authority Restored", color: "#4CAF50" },
      }));
      setPhase("complete");
    });
  };

  const eventColors = {
    verify: "#4CAF50", create: "#2E75B6", delegate: "#5DADE2", action: "#66BB6A",
    revoke: "#EF5350", revoke_one: "#FF9800", blocked: "#FF4444", alert: "#FFB74D",
    provenance: "#CE93D8", waiting: "#FFC107", cascade: "#EF5350", warning: "#FF9800",
    quorum: "#2196F3",
  };

  return (
    <div style={{ minHeight: "100vh", background: "#0a0a0a", color: "#e0e0e0", fontFamily: "'SF Mono', 'Fira Code', 'JetBrains Mono', monospace", padding: 0 }}>
      {/* Header */}
      <div style={{ background: "linear-gradient(135deg, #0d1117 0%, #1B3A5C 100%)", padding: "20px 24px 16px", borderBottom: "1px solid #222" }}>
        <div style={{ display: "flex", alignItems: "center", justifyContent: "space-between", maxWidth: 1200, margin: "0 auto" }}>
          <div>
            <div style={{ fontSize: 11, letterSpacing: 3, color: "#888", marginBottom: 4 }}>VAC PROTOCOL</div>
            <div style={{ fontSize: 22, fontWeight: 700, color: "#fff", letterSpacing: -0.5 }}>Trust Chain Simulation</div>
            <div style={{ fontSize: 11, color: "#666", marginTop: 2 }}>285 Claims Â· 41 Sections Â· 6 Filings Â· vacprotocol.org</div>
          </div>
          <div style={{ textAlign: "right" }}>
            <div style={{ fontSize: 10, color: "#888" }}>PATENT: AU 2026901425</div>
            <div style={{ fontSize: 10, color: "#666" }}>Violet Shores Pty Ltd</div>
            <button onClick={() => setShowSDKExplainer(!showSDKExplainer)}
              style={{ marginTop: 6, padding: "4px 10px", background: showSDKExplainer ? "#4CAF5022" : "transparent", border: showSDKExplainer ? "1px solid #4CAF50" : "1px solid #444", borderRadius: 4, color: showSDKExplainer ? "#4CAF50" : "#888", cursor: "pointer", fontSize: 9, fontFamily: "inherit", letterSpacing: 1 }}>
              âš¡ POWERED BY VAC SDK
            </button>
          </div>
        </div>
      </div>

      <div style={{ maxWidth: 1200, margin: "0 auto", padding: "16px 24px" }}>

        {/* VAC SDK Explainer */}
        {showSDKExplainer && (
          <div style={{ marginBottom: 16, padding: "20px 24px", background: "#0a1a0a", borderRadius: 8, border: "1px solid #2D5A27", fontFamily: "-apple-system, 'Segoe UI', sans-serif" }}>
            <div style={{ display: "flex", justifyContent: "space-between", alignItems: "flex-start" }}>
              <div>
                <div style={{ fontSize: 16, fontWeight: 700, color: "#4CAF50", marginBottom: 4 }}>VAC SDK â€” The Identity Engine Inside Your App</div>
                <div style={{ fontSize: 11, color: "#666", fontFamily: "'Courier New', monospace" }}>@vac-auth/sdk Â· npm package Â· one line of code to integrate</div>
              </div>
              <button onClick={() => setShowSDKExplainer(false)} style={{ background: "none", border: "none", color: "#666", cursor: "pointer", fontSize: 16 }}>âœ•</button>
            </div>

            <div style={{ fontSize: 13, color: "#ccc", lineHeight: 1.8, marginTop: 14, maxWidth: 800 }}>
              VAC is not an app. It's an <strong style={{ color: "#4CAF50" }}>SDK</strong> â€” a software development kit that any app can embed. FolioAI uses it. Any education platform, healthcare app, or enterprise tool can use it. The app provides the user experience; the VAC SDK provides the identity layer underneath.
            </div>

            <div style={{ fontSize: 13, color: "#aaa", lineHeight: 1.8, marginTop: 10, maxWidth: 800 }}>
              When a user records a video in FolioAI, they don't see VAC. They don't know it's there. But the SDK is capturing five biometric signals from that single recording â€” face, voice, behavioural patterns, location, and timing â€” and fusing them into a composite trust score that's exponentially harder to fake than any single factor.
            </div>

            <div style={{ display: "grid", gridTemplateColumns: "1fr 1fr 1fr", gap: 12, marginTop: 16 }}>
              <div style={{ padding: "12px 14px", background: "#111", borderRadius: 6, borderTop: "3px solid #4CAF50" }}>
                <div style={{ fontSize: 12, fontWeight: 700, color: "#4CAF50", marginBottom: 6 }}>What It Does</div>
                <div style={{ fontSize: 12, color: "#aaa", lineHeight: 1.6 }}>Captures 5 biometric modalities from a single video recording. Creates a Verified Authority Token (VAT) anchored to that person's unique biometric signature. No passwords. No OTPs. Just the person.</div>
              </div>
              <div style={{ padding: "12px 14px", background: "#111", borderRadius: 6, borderTop: "3px solid #5DADE2" }}>
                <div style={{ fontSize: 12, fontWeight: 700, color: "#5DADE2", marginBottom: 6 }}>Why It's Unique</div>
                <div style={{ fontSize: 12, color: "#aaa", lineHeight: 1.6 }}>No other SDK combines face + voice + behaviour + location + temporal signals into one trust score. Auth0 does passwords. iProov does face only. Nuance does voice only. VAC does all five â€” and the combination is patented.</div>
              </div>
              <div style={{ padding: "12px 14px", background: "#111", borderRadius: 6, borderTop: "3px solid #FFB74D" }}>
                <div style={{ fontSize: 12, fontWeight: 700, color: "#FFB74D", marginBottom: 6 }}>How Apps Use It</div>
                <div style={{ fontSize: 12, color: "#aaa", lineHeight: 1.6 }}>One SDK import. The app calls VAC when it needs identity â€” during onboarding, before sensitive actions, or continuously in the background. The user just uses the app normally. VAC is invisible.</div>
              </div>
            </div>

            <div style={{ marginTop: 14, padding: "10px 14px", background: "#111", borderRadius: 6, display: "flex", gap: 20, alignItems: "center" }}>
              <div style={{ fontSize: 11, color: "#888" }}>
                <strong style={{ color: "#ccc" }}>FolioAI</strong> is the first app powered by the VAC SDK. The practice recording that helps you grow IS the biometric verification that proves it's you. One action, two outcomes. That's the design principle: security embedded in the experience, not bolted on.
              </div>
            </div>
          </div>
        )}

        {/* Scenario Tabs */}
        <div style={{ display: "flex", gap: 6, marginBottom: 16, flexWrap: "wrap" }}>
          {Object.entries(SCENARIOS).map(([key, s]) => (
            <button key={key} onClick={() => setScenario(key)}
              style={{ padding: "8px 14px", border: scenario === key ? `2px solid ${s.color}` : "1px solid #333", borderRadius: 6, background: scenario === key ? `${s.color}22` : "#111", color: scenario === key ? s.color : "#888", cursor: "pointer", fontSize: 11, fontFamily: "inherit", fontWeight: scenario === key ? 700 : 400, transition: "all 0.2s" }}>
              {s.title}
            </button>
          ))}
        </div>

        {/* Story Panel */}
        <div style={{ marginBottom: 12, borderRadius: 8, overflow: "hidden", border: `1px solid ${sc.color}33` }}>
          {/* Title bar with Run button */}
          <div style={{ display: "flex", justifyContent: "space-between", alignItems: "center", padding: "12px 16px", background: "#111", borderBottom: `1px solid ${sc.color}22` }}>
            <div>
              <div style={{ fontSize: 18, fontWeight: 700, color: sc.color, fontFamily: "-apple-system, 'Segoe UI', sans-serif" }}>{sc.title}</div>
              <div style={{ fontSize: 12, color: "#888", fontFamily: "-apple-system, 'Segoe UI', sans-serif" }}>{sc.subtitle}</div>
            </div>
            <div style={{ display: "flex", gap: 8, alignItems: "center" }}>
              <button onClick={() => setShowVATExplainer(!showVATExplainer)}
                style={{ padding: "8px 14px", background: showVATExplainer ? "#2E75B622" : "#1a1a1a", border: showVATExplainer ? "1px solid #2E75B6" : "1px solid #333", borderRadius: 6, color: showVATExplainer ? "#2E75B6" : "#888", cursor: "pointer", fontSize: 10, fontFamily: "inherit" }}>
                {showVATExplainer ? "âœ• Close" : "â„¹ What is a VAT Token?"}
              </button>
              <button onClick={() => setShowTrustGraph(!showTrustGraph)}
                style={{ padding: "8px 14px", background: showTrustGraph ? "#CE93D822" : "#1a1a1a", border: showTrustGraph ? "1px solid #CE93D8" : "1px solid #333", borderRadius: 6, color: showTrustGraph ? "#CE93D8" : "#888", cursor: "pointer", fontSize: 10, fontFamily: "inherit" }}>
                {showTrustGraph ? "âœ• Close" : "ğŸ”— Human Trust Graph"}
              </button>
              {/* Mode toggle */}
              {!running && (
                <div style={{ display: "flex", borderRadius: 6, overflow: "hidden", border: "1px solid #333" }}>
                  <button onClick={() => setPlayMode("auto")}
                    style={{ padding: "8px 12px", background: playMode === "auto" ? `${sc.color}33` : "#111", border: "none", color: playMode === "auto" ? sc.color : "#666", cursor: "pointer", fontSize: 10, fontFamily: "inherit", fontWeight: playMode === "auto" ? 700 : 400 }}>
                    â–¶ Auto
                  </button>
                  <button onClick={() => setPlayMode("step")}
                    style={{ padding: "8px 12px", background: playMode === "step" ? `${sc.color}33` : "#111", border: "none", borderLeft: "1px solid #333", color: playMode === "step" ? sc.color : "#666", cursor: "pointer", fontSize: 10, fontFamily: "inherit", fontWeight: playMode === "step" ? 700 : 400 }}>
                    â­ Step
                  </button>
                </div>
              )}
              {/* Run / Step / Reset buttons */}
              {running && playMode === "step" ? (
                <div style={{ display: "flex", gap: 6 }}>
                  <button onClick={stepForward}
                    disabled={phase === "complete"}
                    style={{ padding: "10px 24px", background: phase === "complete" ? "#333" : sc.color, color: "white", border: "none", borderRadius: 6, cursor: phase === "complete" ? "default" : "pointer", fontSize: 13, fontWeight: 700, fontFamily: "inherit", letterSpacing: 1, opacity: phase === "complete" ? 0.5 : 1 }}>
                    {phase === "complete" ? "âœ“ DONE" : `NEXT â†’ ${stepDisplay + 2}/${sc.events.length}`}
                  </button>
                  <button onClick={reset}
                    style={{ padding: "10px 16px", background: "#B71C1C", color: "white", border: "none", borderRadius: 6, cursor: "pointer", fontSize: 13, fontWeight: 700, fontFamily: "inherit" }}>
                    â– 
                  </button>
                </div>
              ) : (
                <button onClick={running ? reset : runScenario}
                  style={{ padding: "10px 28px", background: running ? "#B71C1C" : sc.color, color: "white", border: "none", borderRadius: 6, cursor: "pointer", fontSize: 13, fontWeight: 700, fontFamily: "inherit", letterSpacing: 1, minWidth: 160 }}>
                  {running ? "â–  RESET" : "â–¶ RUN SCENARIO"}
                </button>
              )}
            </div>
          </div>

          {/* VAT Token Explainer (toggle) */}
          {showVATExplainer && (
            <div style={{ padding: "16px 20px", background: "#0a1628", borderBottom: "1px solid #1a3050", fontFamily: "-apple-system, 'Segoe UI', sans-serif" }}>
              <div style={{ fontSize: 16, fontWeight: 700, color: "#2E75B6", marginBottom: 12 }}>The VAT Token â€” The World's Only 5-Modal Biometric Human Key</div>
              <div style={{ fontSize: 13, color: "#ccc", lineHeight: 1.8, maxWidth: 800 }}>
                A <strong style={{ color: "#5DADE2" }}>Verified Authority Token (VAT)</strong> is a cryptographic proof that a real, specific human authorised a specific action. Not a password. Not a code from your phone. A proof anchored to <em>who you physically are, how you behave, where you are, and when</em> â€” across five modalities simultaneously.
              </div>

              <div style={{ display: "grid", gridTemplateColumns: "1fr 1fr 1fr", gap: 10, marginTop: 16, maxWidth: 900 }}>
                <div style={{ padding: "12px 14px", background: "#111", borderRadius: 6, borderLeft: "3px solid #4CAF50" }}>
                  <div style={{ fontSize: 13, fontWeight: 700, color: "#4CAF50" }}>ğŸ“¹ Video â€” Your Face</div>
                  <div style={{ fontSize: 12, color: "#aaa", marginTop: 4, lineHeight: 1.6 }}>Live facial recognition with liveness detection. Not a photo â€” a proof you're present, right now. Deepfake-resistant.</div>
                </div>
                <div style={{ padding: "12px 14px", background: "#111", borderRadius: 6, borderLeft: "3px solid #5DADE2" }}>
                  <div style={{ fontSize: 13, fontWeight: 700, color: "#5DADE2" }}>ğŸ™ Voice â€” Your Voiceprint</div>
                  <div style={{ fontSize: 12, color: "#aaa", marginTop: 4, lineHeight: 1.6 }}>Unique voiceprint matching. Cross-checked against your face â€” lip movements must match your voice. Clone-resistant.</div>
                </div>
                <div style={{ padding: "12px 14px", background: "#111", borderRadius: 6, borderLeft: "3px solid #FFB74D" }}>
                  <div style={{ fontSize: 13, fontWeight: 700, color: "#FFB74D" }}>âŒ¨ï¸ Behavioural â€” How You Act</div>
                  <div style={{ fontSize: 12, color: "#aaa", marginTop: 4, lineHeight: 1.6 }}>Typing patterns, interaction rhythms, device signals. A behavioural fingerprint unique to you and nearly impossible to replicate.</div>
                </div>
                <div style={{ padding: "12px 14px", background: "#111", borderRadius: 6, borderLeft: "3px solid #CE93D8" }}>
                  <div style={{ fontSize: 13, fontWeight: 700, color: "#CE93D8" }}>ğŸ“ Location â€” Where You Are</div>
                  <div style={{ fontSize: 12, color: "#aaa", marginTop: 4, lineHeight: 1.6 }}>Geolocation verification. If you're meant to be in Auckland, a login from Moscow gets flagged â€” before anything happens.</div>
                </div>
                <div style={{ padding: "12px 14px", background: "#111", borderRadius: 6, borderLeft: "3px solid #EF5350" }}>
                  <div style={{ fontSize: 13, fontWeight: 700, color: "#EF5350" }}>â± Temporal â€” When & How Long</div>
                  <div style={{ fontSize: 12, color: "#aaa", marginTop: 4, lineHeight: 1.6 }}>Trust decays over time. Permissions expire. How long you stay, how quickly you decide, when you're active â€” all signals. A rÄhui lifts after 6 months. A doctor's shift ends at 6pm. Time is a biometric.</div>
                </div>
              </div>

              <div style={{ marginTop: 16, padding: "14px 16px", background: "#0d1a0d", borderRadius: 6, border: "1px solid #2D5A27" }}>
                <div style={{ fontSize: 13, fontWeight: 700, color: "#4CAF50", marginBottom: 6 }}>Why This Is Unique â€” And Patented</div>
                <div style={{ fontSize: 12, color: "#bbb", lineHeight: 1.7 }}>
                  Every existing identity system uses one or two of these. Auth0 uses passwords. iProov uses face only. Nuance uses voice only. <strong style={{ color: "#fff" }}>Nobody combines all five into a single composite trust score where trust continuously decays and must be re-earned.</strong> A deepfake might fool a camera. It won't fool a camera + voiceprint + behavioural pattern + location + temporal consistency check simultaneously. And even if it could â€” in 60 seconds the trust score drops and re-verification is required.
                </div>
              </div>

              <div style={{ display: "flex", gap: 16, marginTop: 14 }}>
                <div style={{ flex: 1, padding: "10px 14px", background: "#111", borderRadius: 6, borderLeft: "3px solid #4CAF50" }}>
                  <div style={{ fontSize: 11, fontWeight: 700, color: "#4CAF50" }}>Creates</div>
                  <div style={{ fontSize: 11, color: "#aaa", marginTop: 4 }}>5 biometric signals â†’ one trust score â†’ token is born</div>
                </div>
                <div style={{ flex: 1, padding: "10px 14px", background: "#111", borderRadius: 6, borderLeft: "3px solid #5DADE2" }}>
                  <div style={{ fontSize: 11, fontWeight: 700, color: "#5DADE2" }}>Delegates</div>
                  <div style={{ fontSize: 11, color: "#aaa", marginTop: 4 }}>Each agent gets a narrower copy â€” scope always narrows</div>
                </div>
                <div style={{ flex: 1, padding: "10px 14px", background: "#111", borderRadius: 6, borderLeft: "3px solid #EF5350" }}>
                  <div style={{ fontSize: 11, fontWeight: 700, color: "#EF5350" }}>Revokes</div>
                  <div style={{ fontSize: 11, color: "#aaa", marginTop: 4 }}>Human leaves â†’ ALL agents stop. Instantly. No orphaned access.</div>
                </div>
              </div>

              <div style={{ marginTop: 12, fontSize: 10, color: "#555", fontFamily: "'Courier New', monospace" }}>
                Protected by 285 claims across 6 Australian patent filings Â· Violet Shores Pty Ltd Â· vacprotocol.org
              </div>
            </div>
          )}

          {/* Human Trust Graph Explainer */}
          {showTrustGraph && (
            <div style={{ padding: "16px 20px", background: "#0d0a1a", borderBottom: "1px solid #2a1a3a", fontFamily: "-apple-system, 'Segoe UI', sans-serif" }}>
              <div style={{ fontSize: 16, fontWeight: 700, color: "#CE93D8", marginBottom: 12 }}>The Human Trust Graph â€” Why Social Verification Changes Everything</div>

              <div style={{ fontSize: 13, color: "#ccc", lineHeight: 1.8, maxWidth: 800 }}>
                Every identity system today verifies you against a <em>database</em> â€” a password file, a government record, a biometric template stored on a server. <strong style={{ color: "#CE93D8" }}>VAC verifies you against other humans who know you.</strong> That's a fundamentally different kind of trust.
              </div>

              <div style={{ fontSize: 13, color: "#aaa", lineHeight: 1.8, marginTop: 10, maxWidth: 800 }}>
                When you onboard to a VAC-powered app, a real person who knows you â€” a colleague, a teacher, a family member â€” records a short video vouching for your identity. Their vouch is cryptographically linked to both their biometric proof and yours. This creates a <strong style={{ color: "#fff" }}>social trust graph</strong>: a web of human relationships where every connection is biometrically anchored.
              </div>

              {/* Visual Trust Graph - Scenario-specific */}
              <div style={{ marginTop: 16, padding: "20px", background: "#111", borderRadius: 8, border: "1px solid #222" }}>
                <div style={{ fontSize: 10, color: "#666", letterSpacing: 2, marginBottom: 12 }}>
                  {scenario === "wananga" ? "TRUST GRAPH â€” WÄ€NANGA" :
                   scenario === "openclaw" ? "TRUST GRAPH â€” AGENT TEAM" :
                   scenario === "healthcare" ? "TRUST GRAPH â€” CLINICAL CHAIN" :
                   scenario === "compliance" ? "TRUST GRAPH â€” CROSS-BORDER" :
                   scenario === "coalition" ? "TRUST GRAPH â€” COALITION" :
                   scenario === "iwi" ? "TRUST GRAPH â€” IWI GOVERNANCE" :
                   scenario === "rahui" ? "TRUST GRAPH â€” RÄ€HUI TEMPORAL" :
                   scenario === "consortium" ? "TRUST GRAPH â€” CONSORTIUM" :
                   scenario === "tokencost" ? "TRUST GRAPH â€” TOKEN BUDGET" :
                   "TRUST GRAPH"}
                </div>

                {scenario === "wananga" && (
                <svg viewBox="0 0 700 320" style={{ width: "100%", maxWidth: 700 }}>
                  <line x1="350" y1="45" x2="200" y2="130" stroke="#CE93D866" strokeWidth="2" />
                  <line x1="350" y1="45" x2="500" y2="130" stroke="#CE93D866" strokeWidth="2" />
                  <line x1="200" y1="130" x2="500" y2="130" stroke="#CE93D844" strokeWidth="1" strokeDasharray="4" />
                  <line x1="200" y1="130" x2="150" y2="230" stroke="#5DADE266" strokeWidth="2" />
                  <line x1="200" y1="130" x2="280" y2="230" stroke="#5DADE266" strokeWidth="2" />
                  <line x1="500" y1="130" x2="420" y2="230" stroke="#5DADE266" strokeWidth="2" />
                  <line x1="500" y1="130" x2="550" y2="230" stroke="#5DADE266" strokeWidth="2" />
                  <line x1="350" y1="45" x2="350" y2="230" stroke="#4CAF5066" strokeWidth="2" />
                  <line x1="50" y1="80" x2="200" y2="130" stroke="#FFB74D44" strokeWidth="1" strokeDasharray="6" />
                  <line x1="650" y1="80" x2="500" y2="130" stroke="#FFB74D44" strokeWidth="1" strokeDasharray="6" />
                  <circle cx="350" cy="45" r="24" fill="#4A0E4E" stroke="#CE93D8" strokeWidth="2" />
                  <text x="350" y="49" textAnchor="middle" fill="#fff" fontSize="14">ğŸ‘¤</text>
                  <text x="350" y="82" textAnchor="middle" fill="#CE93D8" fontSize="10" fontWeight="700">Mere (KaumÄtua)</text>
                  <text x="350" y="94" textAnchor="middle" fill="#888" fontSize="8">â­ ANCHOR Â· 12 vouches Â· Trust: 0.95</text>
                  <circle cx="200" cy="130" r="20" fill="#1B5E20" stroke="#66BB6A" strokeWidth="2" />
                  <text x="200" y="134" textAnchor="middle" fill="#fff" fontSize="12">ğŸ‘¤</text>
                  <text x="200" y="163" textAnchor="middle" fill="#66BB6A" fontSize="10" fontWeight="700">Hemi (Kaiako)</text>
                  <text x="200" y="175" textAnchor="middle" fill="#888" fontSize="8">ğŸŒ³ TRUSTED Â· 7 vouches</text>
                  <circle cx="500" cy="130" r="20" fill="#1B5E20" stroke="#66BB6A" strokeWidth="2" />
                  <text x="500" y="134" textAnchor="middle" fill="#fff" fontSize="12">ğŸ‘¤</text>
                  <text x="500" y="163" textAnchor="middle" fill="#66BB6A" fontSize="10" fontWeight="700">WhÄnau Rep</text>
                  <text x="500" y="175" textAnchor="middle" fill="#888" fontSize="8">ğŸŒ¿ ESTABLISHED Â· 4 vouches</text>
                  <circle cx="150" cy="230" r="16" fill="#1B3A5C" stroke="#5DADE2" strokeWidth="2" />
                  <text x="150" y="234" textAnchor="middle" fill="#fff" fontSize="10">ğŸ“¹</text>
                  <text x="150" y="258" textAnchor="middle" fill="#5DADE2" fontSize="9">Aroha</text>
                  <text x="150" y="268" textAnchor="middle" fill="#888" fontSize="7">ğŸŒ± EMERGING Â· 1 vouch</text>
                  <circle cx="280" cy="230" r="16" fill="#1B3A5C" stroke="#5DADE2" strokeWidth="2" />
                  <text x="280" y="234" textAnchor="middle" fill="#fff" fontSize="10">ğŸ“¹</text>
                  <text x="280" y="258" textAnchor="middle" fill="#5DADE2" fontSize="9">Tama</text>
                  <text x="280" y="268" textAnchor="middle" fill="#888" fontSize="7">ğŸŒ± EMERGING Â· 1 vouch</text>
                  <circle cx="350" cy="230" r="16" fill="#1B3A5C" stroke="#5DADE2" strokeWidth="2" />
                  <text x="350" y="234" textAnchor="middle" fill="#fff" fontSize="10">ğŸ“¹</text>
                  <text x="350" y="258" textAnchor="middle" fill="#5DADE2" fontSize="9">Maia</text>
                  <text x="350" y="268" textAnchor="middle" fill="#888" fontSize="7">ğŸŒ± EMERGING Â· 1 vouch</text>
                  <circle cx="420" cy="230" r="16" fill="#1B3A5C" stroke="#5DADE2" strokeWidth="2" />
                  <text x="420" y="234" textAnchor="middle" fill="#fff" fontSize="10">ğŸ“¹</text>
                  <text x="420" y="258" textAnchor="middle" fill="#5DADE2" fontSize="9">Wiremu</text>
                  <text x="420" y="268" textAnchor="middle" fill="#888" fontSize="7">ğŸŒ± EMERGING Â· 1 vouch</text>
                  <circle cx="550" cy="230" r="16" fill="#1B3A5C" stroke="#5DADE2" strokeWidth="2" />
                  <text x="550" y="234" textAnchor="middle" fill="#fff" fontSize="10">ğŸ“¹</text>
                  <text x="550" y="258" textAnchor="middle" fill="#5DADE2" fontSize="9">Hine</text>
                  <text x="550" y="268" textAnchor="middle" fill="#888" fontSize="7">ğŸŒ± EMERGING Â· 1 vouch</text>
                  <circle cx="50" cy="80" r="12" fill="#333" stroke="#FFB74D" strokeWidth="1" strokeDasharray="3" />
                  <text x="50" y="84" textAnchor="middle" fill="#FFB74D" fontSize="8">ğŸ‘¤</text>
                  <text x="50" y="102" textAnchor="middle" fill="#666" fontSize="7">External vouch</text>
                  <circle cx="650" cy="80" r="12" fill="#333" stroke="#FFB74D" strokeWidth="1" strokeDasharray="3" />
                  <text x="650" y="84" textAnchor="middle" fill="#FFB74D" fontSize="8">ğŸ‘¤</text>
                  <text x="650" y="102" textAnchor="middle" fill="#666" fontSize="7">External vouch</text>
                  <text x="350" y="310" textAnchor="middle" fill="#555" fontSize="9">Each line = a biometrically verified vouch. KaumÄtua authority flows through the graph.</text>
                </svg>
                )}

                {scenario === "openclaw" && (
                <svg viewBox="0 0 700 320" style={{ width: "100%", maxWidth: 700 }}>
                  {/* Jake and Lisa at top */}
                  <line x1="220" y1="45" x2="350" y2="130" stroke="#2E75B666" strokeWidth="2" />
                  <line x1="480" y1="45" x2="350" y2="130" stroke="#2E75B666" strokeWidth="2" />
                  {/* PDOS to agents */}
                  <line x1="350" y1="130" x2="120" y2="230" stroke="#66BB6A66" strokeWidth="2" />
                  <line x1="350" y1="130" x2="250" y2="230" stroke="#66BB6A66" strokeWidth="2" />
                  <line x1="350" y1="130" x2="380" y2="230" stroke="#66BB6A66" strokeWidth="2" />
                  <line x1="350" y1="130" x2="500" y2="230" stroke="#66BB6A66" strokeWidth="2" />
                  {/* Lisa to her agent */}
                  <line x1="480" y1="45" x2="580" y2="230" stroke="#CE93D866" strokeWidth="2" />
                  {/* Blocked access */}
                  <line x1="500" y1="230" x2="620" y2="290" stroke="#FF444466" strokeWidth="2" strokeDasharray="6" />

                  {/* Jake */}
                  <circle cx="220" cy="45" r="24" fill="#1B3A5C" stroke="#2E75B6" strokeWidth="2" />
                  <text x="220" y="49" textAnchor="middle" fill="#fff" fontSize="14">ğŸ‘¤</text>
                  <text x="220" y="82" textAnchor="middle" fill="#2E75B6" fontSize="10" fontWeight="700">Jake (CEO)</text>
                  <text x="220" y="94" textAnchor="middle" fill="#888" fontSize="8">â­ ANCHOR Â· 5-modal verified</text>

                  {/* Lisa */}
                  <circle cx="480" cy="45" r="24" fill="#4A0E4E" stroke="#CE93D8" strokeWidth="2" />
                  <text x="480" y="49" textAnchor="middle" fill="#fff" fontSize="14">ğŸ‘¤</text>
                  <text x="480" y="82" textAnchor="middle" fill="#CE93D8" fontSize="10" fontWeight="700">Lisa (Co-founder)</text>
                  <text x="480" y="94" textAnchor="middle" fill="#888" fontSize="8">ğŸŒ³ TRUSTED Â· 5-modal verified</text>

                  {/* PDOS Orchestrator */}
                  <circle cx="350" cy="130" r="22" fill="#1a1a1a" stroke="#FFB74D" strokeWidth="2" />
                  <text x="350" y="134" textAnchor="middle" fill="#FFB74D" fontSize="12">âœ¦</text>
                  <text x="350" y="163" textAnchor="middle" fill="#FFB74D" fontSize="10" fontWeight="700">PDOS Orchestrator</text>
                  <text x="350" y="175" textAnchor="middle" fill="#888" fontSize="8">Delegated by Jake Â· Scoped</text>

                  {/* Agents */}
                  <circle cx="120" cy="230" r="16" fill="#1B5E20" stroke="#66BB6A" strokeWidth="2" />
                  <text x="120" y="234" textAnchor="middle" fill="#fff" fontSize="10">ğŸ¤–</text>
                  <text x="120" y="258" textAnchor="middle" fill="#66BB6A" fontSize="8">Financial</text>
                  <text x="120" y="268" textAnchor="middle" fill="#888" fontSize="7">READ ONLY</text>

                  <circle cx="250" cy="230" r="16" fill="#1B5E20" stroke="#66BB6A" strokeWidth="2" />
                  <text x="250" y="234" textAnchor="middle" fill="#fff" fontSize="10">ğŸ¤–</text>
                  <text x="250" y="258" textAnchor="middle" fill="#66BB6A" fontSize="8">Market</text>
                  <text x="250" y="268" textAnchor="middle" fill="#888" fontSize="7">INTEL ONLY</text>

                  <circle cx="380" cy="230" r="16" fill="#1B5E20" stroke="#66BB6A" strokeWidth="2" />
                  <text x="380" y="234" textAnchor="middle" fill="#fff" fontSize="10">ğŸ¤–</text>
                  <text x="380" y="258" textAnchor="middle" fill="#66BB6A" fontSize="8">Pitch Deck</text>
                  <text x="380" y="268" textAnchor="middle" fill="#888" fontSize="7">NO CAP TABLE</text>

                  <circle cx="500" cy="230" r="16" fill="#1B5E20" stroke="#66BB6A" strokeWidth="2" />
                  <text x="500" y="234" textAnchor="middle" fill="#fff" fontSize="10">ğŸ¤–</text>
                  <text x="500" y="258" textAnchor="middle" fill="#66BB6A" fontSize="8">Legal</text>
                  <text x="500" y="268" textAnchor="middle" fill="#888" fontSize="7">DOCS ONLY</text>

                  {/* Lisa's agent */}
                  <circle cx="580" cy="230" r="16" fill="#3E1A47" stroke="#CE93D8" strokeWidth="2" />
                  <text x="580" y="234" textAnchor="middle" fill="#fff" fontSize="10">ğŸ¤–</text>
                  <text x="580" y="258" textAnchor="middle" fill="#CE93D8" fontSize="8">Investor Rel.</text>
                  <text x="580" y="268" textAnchor="middle" fill="#888" fontSize="7">LISA'S SCOPE</text>

                  {/* Blocked cap table */}
                  <circle cx="620" cy="290" r="14" fill="#3a0000" stroke="#FF4444" strokeWidth="2" />
                  <text x="620" y="294" textAnchor="middle" fill="#FF4444" fontSize="10">ğŸš«</text>
                  <text x="620" y="314" textAnchor="middle" fill="#FF4444" fontSize="8">Cap Table</text>

                  <text x="350" y="310" textAnchor="middle" fill="#555" fontSize="9">Two human roots. Scoped delegation. Every agent traces back to a verified person.</text>
                </svg>
                )}

                {scenario === "tokencost" && (
                <svg viewBox="0 0 700 340" style={{ width: "100%", maxWidth: 700 }}>
                  {/* Jason to Coordinator */}
                  <line x1="350" y1="55" x2="350" y2="130" stroke="#D2992266" strokeWidth="2" />
                  {/* Coordinator to agents */}
                  <line x1="350" y1="140" x2="130" y2="230" stroke="#D2992244" strokeWidth="2" />
                  <line x1="350" y1="140" x2="280" y2="230" stroke="#66BB6A66" strokeWidth="2" />
                  <line x1="350" y1="140" x2="430" y2="230" stroke="#66BB6A66" strokeWidth="2" />
                  <line x1="350" y1="140" x2="580" y2="230" stroke="#66BB6A66" strokeWidth="2" />
                  {/* Research to blocked */}
                  <line x1="130" y1="250" x2="130" y2="300" stroke="#FF444466" strokeWidth="2" strokeDasharray="6" />

                  {/* Jason */}
                  <circle cx="350" cy="45" r="24" fill="#3D2800" stroke="#D29922" strokeWidth="2" />
                  <text x="350" y="49" textAnchor="middle" fill="#fff" fontSize="14">ğŸ‘¤</text>
                  <text x="350" y="82" textAnchor="middle" fill="#D29922" fontSize="10" fontWeight="700">Jason (Founder)</text>
                  <text x="350" y="94" textAnchor="middle" fill="#888" fontSize="8">â­ ROOT Â· $100/day budget</text>

                  {/* Coordinator */}
                  <circle cx="350" cy="140" r="20" fill="#1a1a1a" stroke="#FFB74D" strokeWidth="2" />
                  <text x="350" y="144" textAnchor="middle" fill="#FFB74D" fontSize="12">âœ¦</text>
                  <text x="350" y="170" textAnchor="middle" fill="#FFB74D" fontSize="9" fontWeight="700">PDOS Coordinator</text>
                  <text x="350" y="182" textAnchor="middle" fill="#888" fontSize="7">$100 â†’ delegates $90 Â· keeps $10</text>

                  {/* Research - highlighted/warning */}
                  <circle cx="130" cy="240" r="18" fill="#3D2800" stroke="#D29922" strokeWidth="2.5" />
                  <text x="130" y="244" textAnchor="middle" fill="#D29922" fontSize="11">ğŸ’°</text>
                  <text x="130" y="268" textAnchor="middle" fill="#D29922" fontSize="9" fontWeight="700">Research</text>
                  <text x="130" y="280" textAnchor="middle" fill="#D29922" fontSize="7">$40 BUDGET Â· âš  REVOKED</text>

                  {/* Content - healthy */}
                  <circle cx="280" cy="240" r="16" fill="#1B5E20" stroke="#66BB6A" strokeWidth="2" />
                  <text x="280" y="244" textAnchor="middle" fill="#fff" fontSize="10">ğŸ¤–</text>
                  <text x="280" y="268" textAnchor="middle" fill="#66BB6A" fontSize="9">Content</text>
                  <text x="280" y="280" textAnchor="middle" fill="#888" fontSize="7">$18 of $30 Â· ACTIVE</text>

                  {/* Code - healthy */}
                  <circle cx="430" cy="240" r="16" fill="#1B5E20" stroke="#66BB6A" strokeWidth="2" />
                  <text x="430" y="244" textAnchor="middle" fill="#fff" fontSize="10">ğŸ¤–</text>
                  <text x="430" y="268" textAnchor="middle" fill="#66BB6A" fontSize="9">Code Review</text>
                  <text x="430" y="280" textAnchor="middle" fill="#888" fontSize="7">$4.50 of $20 Â· ACTIVE</text>

                  {/* Reserve */}
                  <circle cx="580" cy="240" r="14" fill="#1a1a1a" stroke="#555" strokeWidth="1.5" />
                  <text x="580" y="244" textAnchor="middle" fill="#888" fontSize="10">$</text>
                  <text x="580" y="268" textAnchor="middle" fill="#888" fontSize="9">Reserve</text>
                  <text x="580" y="280" textAnchor="middle" fill="#666" fontSize="7">$10 Â· UNTOUCHED</text>

                  {/* Blocked Opus */}
                  <circle cx="130" cy="310" r="12" fill="#3a0000" stroke="#FF4444" strokeWidth="2" />
                  <text x="130" y="314" textAnchor="middle" fill="#FF4444" fontSize="9">ğŸš«</text>
                  <text x="130" y="332" textAnchor="middle" fill="#FF4444" fontSize="7">Opus ($0.075/1K)</text>

                  <text x="350" y="335" textAnchor="middle" fill="#555" fontSize="9">Budget narrows monotonically. One agent revoked. Others unaffected. Every dollar traced.</text>
                </svg>
                )}

                {scenario === "healthcare" && (
                <svg viewBox="0 0 700 280" style={{ width: "100%", maxWidth: 700 }}>
                  <line x1="350" y1="45" x2="150" y2="140" stroke="#E5737366" strokeWidth="2" />
                  <line x1="350" y1="45" x2="350" y2="140" stroke="#E5737366" strokeWidth="2" />
                  <line x1="350" y1="45" x2="550" y2="140" stroke="#E5737366" strokeWidth="2" />
                  <line x1="150" y1="140" x2="150" y2="230" stroke="#66BB6A66" strokeWidth="2" />
                  <line x1="350" y1="140" x2="350" y2="230" stroke="#66BB6A66" strokeWidth="2" />
                  <line x1="550" y1="140" x2="550" y2="230" stroke="#66BB6A66" strokeWidth="2" />
                  <circle cx="350" cy="45" r="24" fill="#5C1A1A" stroke="#E57373" strokeWidth="2" />
                  <text x="350" y="49" textAnchor="middle" fill="#fff" fontSize="14">ğŸ‘¤</text>
                  <text x="350" y="82" textAnchor="middle" fill="#E57373" fontSize="10" fontWeight="700">Dr. Chen</text>
                  <text x="350" y="94" textAnchor="middle" fill="#888" fontSize="8">â­ ANCHOR Â· Chief of Medicine</text>
                  <circle cx="150" cy="140" r="18" fill="#1B5E20" stroke="#66BB6A" strokeWidth="2" />
                  <text x="150" y="144" textAnchor="middle" fill="#fff" fontSize="10">ğŸ¤–</text>
                  <text x="150" y="170" textAnchor="middle" fill="#66BB6A" fontSize="9">Diagnostic Agent</text>
                  <text x="150" y="182" textAnchor="middle" fill="#888" fontSize="7">PATIENT DATA Â· READ</text>
                  <circle cx="350" cy="140" r="18" fill="#1B5E20" stroke="#66BB6A" strokeWidth="2" />
                  <text x="350" y="144" textAnchor="middle" fill="#fff" fontSize="10">ğŸ¤–</text>
                  <text x="350" y="170" textAnchor="middle" fill="#66BB6A" fontSize="9">Treatment Agent</text>
                  <text x="350" y="182" textAnchor="middle" fill="#888" fontSize="7">RECOMMENDATIONS</text>
                  <circle cx="550" cy="140" r="18" fill="#1B5E20" stroke="#66BB6A" strokeWidth="2" />
                  <text x="550" y="144" textAnchor="middle" fill="#fff" fontSize="10">ğŸ¤–</text>
                  <text x="550" y="170" textAnchor="middle" fill="#66BB6A" fontSize="9">Records Agent</text>
                  <text x="550" y="182" textAnchor="middle" fill="#888" fontSize="7">AUDIT Â· NO MODIFY</text>
                  <circle cx="150" cy="230" r="14" fill="#1B3A5C" stroke="#5DADE2" strokeWidth="2" />
                  <text x="150" y="234" textAnchor="middle" fill="#5DADE2" fontSize="8">Patient A</text>
                  <circle cx="350" cy="230" r="14" fill="#1B3A5C" stroke="#5DADE2" strokeWidth="2" />
                  <text x="350" y="234" textAnchor="middle" fill="#5DADE2" fontSize="8">Patient B</text>
                  <circle cx="550" cy="230" r="14" fill="#1B3A5C" stroke="#5DADE2" strokeWidth="2" />
                  <text x="550" y="234" textAnchor="middle" fill="#5DADE2" fontSize="8">Patient C</text>
                  <text x="350" y="270" textAnchor="middle" fill="#555" fontSize="9">Every agent action traces back to Dr. Chen's verified identity. Patients never exposed.</text>
                </svg>
                )}

                {(scenario === "compliance" || scenario === "coalition" || scenario === "iwi" || scenario === "rahui" || scenario === "consortium") && (
                <svg viewBox="0 0 700 200" style={{ width: "100%", maxWidth: 700 }}>
                  {/* Generic authority chain for other scenarios */}
                  <line x1="100" y1="60" x2="350" y2="60" stroke="#66BB6A66" strokeWidth="2" />
                  <line x1="350" y1="60" x2="600" y2="60" stroke="#66BB6A66" strokeWidth="2" />
                  <line x1="350" y1="60" x2="200" y2="150" stroke="#5DADE266" strokeWidth="2" />
                  <line x1="350" y1="60" x2="350" y2="150" stroke="#5DADE266" strokeWidth="2" />
                  <line x1="350" y1="60" x2="500" y2="150" stroke="#5DADE266" strokeWidth="2" />
                  <circle cx="100" cy="60" r="20" fill="#4A0E4E" stroke="#CE93D8" strokeWidth="2" />
                  <text x="100" y="64" textAnchor="middle" fill="#fff" fontSize="12">ğŸ‘¤</text>
                  <text x="100" y="92" textAnchor="middle" fill="#CE93D8" fontSize="9">Root Authority</text>
                  <circle cx="350" cy="60" r="22" fill="#1B5E20" stroke="#66BB6A" strokeWidth="2" />
                  <text x="350" y="64" textAnchor="middle" fill="#fff" fontSize="12">ğŸ‘¤</text>
                  <text x="350" y="92" textAnchor="middle" fill="#66BB6A" fontSize="9">Delegator</text>
                  <circle cx="600" cy="60" r="20" fill="#1B5E20" stroke="#66BB6A" strokeWidth="2" />
                  <text x="600" y="64" textAnchor="middle" fill="#fff" fontSize="12">ğŸ‘¤</text>
                  <text x="600" y="92" textAnchor="middle" fill="#66BB6A" fontSize="9">Co-authority</text>
                  <circle cx="200" cy="150" r="16" fill="#1B3A5C" stroke="#5DADE2" strokeWidth="2" />
                  <text x="200" y="154" textAnchor="middle" fill="#fff" fontSize="10">ğŸ¤–</text>
                  <text x="200" y="178" textAnchor="middle" fill="#5DADE2" fontSize="8">Agent 1</text>
                  <circle cx="350" cy="150" r="16" fill="#1B3A5C" stroke="#5DADE2" strokeWidth="2" />
                  <text x="350" y="154" textAnchor="middle" fill="#fff" fontSize="10">ğŸ¤–</text>
                  <text x="350" y="178" textAnchor="middle" fill="#5DADE2" fontSize="8">Agent 2</text>
                  <circle cx="500" cy="150" r="16" fill="#1B3A5C" stroke="#5DADE2" strokeWidth="2" />
                  <text x="500" y="154" textAnchor="middle" fill="#fff" fontSize="10">ğŸ¤–</text>
                  <text x="500" y="178" textAnchor="middle" fill="#5DADE2" fontSize="8">Agent 3</text>
                  <text x="350" y="195" textAnchor="middle" fill="#555" fontSize="9">Every agent's authority traces back to a verified human. Run the scenario to see this graph in action.</text>
                </svg>
                )}
              </div>

              {/* Badge progression */}
              <div style={{ display: "flex", gap: 10, marginTop: 14 }}>
                <div style={{ flex: 1, padding: "10px 12px", background: "#111", borderRadius: 6, borderLeft: "3px solid #5DADE2" }}>
                  <div style={{ fontSize: 11, fontWeight: 700, color: "#5DADE2" }}>ğŸŒ± Emerging (1 vouch)</div>
                  <div style={{ fontSize: 11, color: "#888", marginTop: 2 }}>New to the graph. One person vouched for you. Trust is limited but real.</div>
                </div>
                <div style={{ flex: 1, padding: "10px 12px", background: "#111", borderRadius: 6, borderLeft: "3px solid #66BB6A" }}>
                  <div style={{ fontSize: 11, fontWeight: 700, color: "#66BB6A" }}>ğŸŒ¿ Established (3+)</div>
                  <div style={{ fontSize: 11, color: "#888", marginTop: 2 }}>Multiple people confirm you. Cross-referencing begins. Harder to fake.</div>
                </div>
                <div style={{ flex: 1, padding: "10px 12px", background: "#111", borderRadius: 6, borderLeft: "3px solid #FFB74D" }}>
                  <div style={{ fontSize: 11, fontWeight: 700, color: "#FFB74D" }}>ğŸŒ³ Trusted (5+)</div>
                  <div style={{ fontSize: 11, color: "#888", marginTop: 2 }}>Deep connections. Your identity is socially verified across multiple contexts.</div>
                </div>
                <div style={{ flex: 1, padding: "10px 12px", background: "#111", borderRadius: 6, borderLeft: "3px solid #CE93D8" }}>
                  <div style={{ fontSize: 11, fontWeight: 700, color: "#CE93D8" }}>â­ Anchor (10+)</div>
                  <div style={{ fontSize: 11, color: "#888", marginTop: 2 }}>A pillar of the graph. Others trust you to vouch. Your departure would be felt.</div>
                </div>
              </div>

              <div style={{ marginTop: 14, padding: "12px 16px", background: "#0d1a0d", borderRadius: 6, border: "1px solid #2D5A27" }}>
                <div style={{ fontSize: 13, fontWeight: 700, color: "#4CAF50", marginBottom: 6 }}>Why This Is The Moat</div>
                <div style={{ fontSize: 12, color: "#bbb", lineHeight: 1.7 }}>
                  You can copy a protocol. You can replicate a patent (eventually). But you cannot copy a social graph. Every vouch is a real relationship between real people, biometrically anchored. The more people who join, the more vouches exist, the stronger every identity becomes. <strong style={{ color: "#fff" }}>The graph creates switching costs that no competitor can overcome</strong> â€” because the value isn't in the software, it's in the human connections the software has verified.
                </div>
              </div>

              {/* Proof-of-Reputation Token */}
              <div style={{ marginTop: 14, padding: "16px", background: "#1a1200", borderRadius: 6, border: "1px solid #444400" }}>
                <div style={{ fontSize: 13, fontWeight: 700, color: "#FFB74D", marginBottom: 8 }}>â› Proof-of-Reputation â€” Mining Trust Into Tokens</div>
                <div style={{ fontSize: 12, color: "#ccc", lineHeight: 1.7, marginBottom: 12 }}>
                  Every time you vouch for someone â€” and they vouch for you â€” both of you <strong style={{ color: "#FFB74D" }}>mine a token</strong>. Not by solving math puzzles like Bitcoin. By building real human trust. The harder the trust is to earn, the more valuable the token.
                </div>

                <div style={{ display: "grid", gridTemplateColumns: "1fr 1fr", gap: 10 }}>
                  <div style={{ padding: "10px 12px", background: "#111", borderRadius: 6 }}>
                    <div style={{ fontSize: 11, fontWeight: 700, color: "#FFB74D", marginBottom: 4 }}>What Mines Tokens</div>
                    <div style={{ fontSize: 11, color: "#aaa", lineHeight: 1.6 }}>
                      â€¢ A verified human vouches for your identity<br/>
                      â€¢ You vouch for someone else (both earn)<br/>
                      â€¢ A skill reference is biometrically captured<br/>
                      â€¢ Your trust badge upgrades (Emerging â†’ Established â†’ Trusted â†’ Anchor)<br/>
                      â€¢ Cross-platform references (collected in different apps)
                    </div>
                  </div>
                  <div style={{ padding: "10px 12px", background: "#111", borderRadius: 6 }}>
                    <div style={{ fontSize: 11, fontWeight: 700, color: "#FFB74D", marginBottom: 4 }}>What Tokens Unlock</div>
                    <div style={{ fontSize: 11, color: "#aaa", lineHeight: 1.6 }}>
                      â€¢ Higher trust tiers â†’ lower friction across all VAC-powered apps<br/>
                      â€¢ Community access gated by reputation level<br/>
                      â€¢ Agent authorisation â€” higher trust = broader delegation scope<br/>
                      â€¢ Cross-platform portability â€” your reputation travels with you<br/>
                      â€¢ Verified credential proof for employers, funders, partners
                    </div>
                  </div>
                </div>

                <div style={{ marginTop: 12, padding: "10px 14px", background: "#0d0d0d", borderRadius: 6, display: "flex", alignItems: "center", gap: 16 }}>
                  <div style={{ fontSize: 28 }}>â›</div>
                  <div>
                    <div style={{ fontSize: 12, color: "#ccc", lineHeight: 1.6 }}>
                      <strong style={{ color: "#FFB74D" }}>Bitcoin mines value from electricity. VAC mines value from human relationships.</strong> The token isn't speculative â€” it represents verified, biometrically anchored trust between real people. You can't fake it, buy it, or shortcut it. You earn it by being known.
                    </div>
                  </div>
                </div>

                <div style={{ marginTop: 10, fontSize: 11, color: "#666" }}>
                  {scenario === "wananga" ? "In this scenario: when Mere vouches for Hemi, both mine a token. When Hemi's rangatahi complete the programme with verified progress, the programme's aggregate trust score rises â€” making every future vouch from this wÄnanga carry more weight." :
                   scenario === "openclaw" ? "In this scenario: when Jake verifies and deploys agents through PDOS, his trust score anchors the entire team. When Lisa joins and is independently verified, the team's aggregate reputation strengthens â€” two verified founders carry more weight than one." :
                   scenario === "tokencost" ? "In this scenario: Jason's biometric verification anchors a daily budget. Every dollar spent by every agent traces back to his verified identity. When the Research Agent is revoked and reinstated, a fresh biometric is required â€” not a cached approval. The trust graph isn't just about identity, it's about resource governance." :
                   scenario === "healthcare" ? "In this scenario: Dr. Chen's anchor status means every clinical agent inherits verified provenance. Each successful delegation without scope violation strengthens the trust chain â€” the hospital's reputation grows with every compliant interaction." :
                   "In every scenario: vouches between verified humans create tokens. The harder trust is to earn, the more valuable the token. The graph grows stronger with every verified interaction."}
                </div>
              </div>
            </div>
          )}

          {/* Story Content */}
          {sc.story && (
            <div style={{ padding: "16px 20px", background: "#0d0d0d", fontFamily: "-apple-system, 'Segoe UI', sans-serif" }}>
              {/* Intro - always shown */}
              <div style={{ fontSize: 14, color: "#ddd", lineHeight: 1.8, maxWidth: 800 }}>
                {sc.story.intro}
              </div>

              {/* Why VAC - shown when idle */}
              {phase === "idle" && (
                <div style={{ marginTop: 14, padding: "12px 16px", background: `${sc.color}0a`, borderRadius: 6, borderLeft: `3px solid ${sc.color}` }}>
                  <div style={{ fontSize: 11, fontWeight: 700, color: sc.color, marginBottom: 4, letterSpacing: 1 }}>WHY VAC?</div>
                  <div style={{ fontSize: 13, color: "#bbb", lineHeight: 1.7 }}>{sc.story.whyVAC}</div>
                </div>
              )}

              {/* Narrative beat - shown during/after run */}
              {currentBeat >= 0 && sc.story.beats && sc.story.beats[currentBeat] && (
                <div style={{ marginTop: 14, padding: "14px 16px", background: "#111", borderRadius: 6, borderLeft: `3px solid ${sc.color}`, transition: "all 0.3s ease" }}>
                  <div style={{ fontSize: 10, color: sc.color, marginBottom: 6, letterSpacing: 1, fontWeight: 700 }}>
                    WHAT'S HAPPENING{stepDisplay >= 0 ? ` â€” Event ${stepDisplay + 1} of ${sc.events.length}` : ""}
                  </div>
                  <div style={{ fontSize: 14, color: "#eee", lineHeight: 1.7 }}>
                    {sc.story.beats[currentBeat].text}
                  </div>
                </div>
              )}
            </div>
          )}
        </div>

        {/* Interactive Decision Buttons */}
        {phase === "choose_crisis" && (
          <div style={{ marginBottom: 12, padding: 16, background: "#1a1200", borderRadius: 8, border: "2px solid #FF6F00" }}>
            <div style={{ fontSize: 12, fontWeight: 700, color: "#FF6F00", marginBottom: 10 }}>âš¡ CHOOSE WHAT HAPPENS TO MEMBER 3:</div>
            <div style={{ display: "flex", gap: 8, flexWrap: "wrap" }}>
              {Object.entries(CONSORTIUM_BRANCHES).map(([key, b]) => (
                <button key={key} onClick={() => handleCrisisChoice(key)}
                  style={{ padding: "10px 18px", background: `${b.color}22`, border: `1px solid ${b.color}`, borderRadius: 6, color: b.color, cursor: "pointer", fontSize: 11, fontFamily: "inherit", fontWeight: 600, flex: 1, minWidth: 140 }}>
                  {b.icon} {b.label}<br /><span style={{ fontSize: 9, fontWeight: 400, opacity: 0.8 }}>{b.desc}</span>
                </button>
              ))}
            </div>
          </div>
        )}

        {phase === "choose_escalate" && (
          <div style={{ marginBottom: 12, padding: 16, background: "#1a0000", borderRadius: 8, border: "2px solid #EF5350" }}>
            <div style={{ fontSize: 12, fontWeight: 700, color: "#EF5350", marginBottom: 10 }}>ğŸ’¥ ESCALATE â€” WHAT HAPPENS NEXT?</div>
            <div style={{ display: "flex", gap: 8, flexWrap: "wrap" }}>
              <button onClick={() => handleEscalate("quorum")}
                style={{ padding: "12px 18px", background: "#EF535022", border: "1px solid #EF5350", borderRadius: 6, color: "#EF5350", cursor: "pointer", fontSize: 11, fontFamily: "inherit", fontWeight: 600, flex: 1 }}>
                ğŸ’¥ Drop Below Quorum<br /><span style={{ fontSize: 9, fontWeight: 400 }}>Two more members lost â†’ 4/7 â†’ CASCADE</span>
              </button>
              <button onClick={() => handleEscalate("kaumatua")}
                style={{ padding: "12px 18px", background: "#CE93D822", border: "1px solid #CE93D8", borderRadius: 6, color: "#CE93D8", cursor: "pointer", fontSize: 11, fontFamily: "inherit", fontWeight: 600, flex: 1 }}>
                ğŸ› KaumÄtua Withdraws<br /><span style={{ fontSize: 9, fontWeight: 400 }}>Mandatory role lost â†’ CASCADE despite 5/7 quorum</span>
              </button>
            </div>
          </div>
        )}

        {phase === "cascaded" && (
          <div style={{ marginBottom: 12, padding: 16, background: "#001a0a", borderRadius: 8, border: "2px solid #4CAF50" }}>
            <div style={{ fontSize: 12, fontWeight: 700, color: "#4CAF50", marginBottom: 10 }}>ğŸ”„ RECOVERY â€” RECONSTITUTE THE CONSORTIUM?</div>
            <button onClick={handleReconstitute}
              style={{ padding: "12px 28px", background: "#4CAF5022", border: "1px solid #4CAF50", borderRadius: 6, color: "#4CAF50", cursor: "pointer", fontSize: 12, fontFamily: "inherit", fontWeight: 700 }}>
              ğŸ”„ Reconstitute Consortium â€” Appoint replacement, re-verify, resume mission
            </button>
          </div>
        )}

        {/* Main Layout */}
        <div style={{ display: "grid", gridTemplateColumns: "1fr 340px", gap: 16 }}>
          {/* Left: Graph + Metrics */}
          <div>
            <div style={{ background: "#0d0d0d", borderRadius: 8, border: "1px solid #222", overflow: "hidden" }}>
              <div style={{ padding: "8px 16px", borderBottom: "1px solid #1a1a1a", display: "flex", justifyContent: "space-between" }}>
                <span style={{ fontSize: 10, color: "#666", letterSpacing: 2 }}>TRUST GRAPH â€” LIVE</span>
                <span style={{ fontSize: 10, color: sc.color }}>{activeNodes.size} nodes Â· {safeStateNodes.size > 0 ? `${safeStateNodes.size} safe state` : `${revokedNodes.size} revoked`}</span>
              </div>
              <TrustGraph scenario={scenario} activeNodes={activeNodes} revokedNodes={revokedNodes} blockedNodes={blockedNodes} safeStateNodes={safeStateNodes} quorumText={quorumText} />
            </div>
            <MetricsPanel metrics={metrics} scenario={scenario} />
          </div>

          {/* Right: Event Log + Scope */}
          <div style={{ display: "flex", flexDirection: "column", gap: 12 }}>
            <div style={{ background: "#0d0d0d", borderRadius: 8, border: "1px solid #222", flex: 1, minHeight: 300, maxHeight: 420, display: "flex", flexDirection: "column" }}>
              <div style={{ padding: "8px 12px", borderBottom: "1px solid #1a1a1a" }}>
                <span style={{ fontSize: 10, color: "#666", letterSpacing: 2 }}>EVENT LOG</span>
              </div>
              <div style={{ flex: 1, overflow: "auto", padding: "8px 12px" }}>
                {log.length === 0 && (
                  <div style={{ color: "#444", fontSize: 11, textAlign: "center", marginTop: 40 }}>
                    {playMode === "step" ? "Press RUN SCENARIO to begin stepping through" : "Press RUN SCENARIO to begin"}
                  </div>
                )}
                {log.map((entry, i) => (
                  <div key={i} style={{ fontSize: 10, marginBottom: 5, lineHeight: 1.4, opacity: i === log.length - 1 ? 1 : 0.7 }}>
                    <span style={{ color: "#444" }}>{entry.time}</span>{" "}
                    <span style={{ color: eventColors[entry.type] || "#888", fontWeight: 600 }}>
                      [{entry.type.toUpperCase().replace("_"," ")}]
                    </span>{" "}
                    <span style={{ color: "#ccc" }}>{entry.message}</span>
                  </div>
                ))}
                <div ref={logEndRef} />
              </div>
            </div>

            <div style={{ background: "#0d0d0d", borderRadius: 8, border: "1px solid #222", padding: 12 }}>
              <div style={{ fontSize: 10, color: "#666", letterSpacing: 2, marginBottom: 8 }}>SCOPE INSPECTOR</div>
              {sc.nodes.filter(n => activeNodes.has(n.id)).slice(-4).reverse().map(node => (
                <div key={node.id} style={{ marginBottom: 6, padding: "5px 8px", background: "#111", borderRadius: 4, borderLeft: `3px solid ${safeStateNodes.has(node.id) ? "#2196F3" : revokedNodes.has(node.id) ? "#EF5350" : blockedNodes.has(node.id) ? "#FF4444" : NODE_STYLES[node.type]?.stroke || "#555"}` }}>
                  <div style={{ fontSize: 10, fontWeight: 700, color: safeStateNodes.has(node.id) ? "#2196F3" : revokedNodes.has(node.id) ? "#EF5350" : "#ccc" }}>{node.label}</div>
                  <div style={{ fontSize: 9, color: "#888" }}>Scope: {node.scope}</div>
                  <div style={{ fontSize: 9, color: "#666" }}>Jurisdiction: {node.jurisdiction}</div>
                  {node.role && <div style={{ fontSize: 9, color: "#888" }}>Role: {node.role}</div>}
                </div>
              ))}
              {activeNodes.size === 0 && <div style={{ fontSize: 10, color: "#444" }}>No active nodes</div>}
            </div>
          </div>
        </div>

        {/* Footer */}
        <div style={{ marginTop: 16, padding: "12px 16px", background: "#0d0d0d", borderRadius: 8, border: "1px solid #1a1a1a", display: "flex", justifyContent: "space-between", alignItems: "center" }}>
          <div style={{ fontSize: 10, color: "#444" }}>
            VAC Protocol Simulation v3.0 â€” For demonstration purposes. Real implementation uses Ed25519 cryptographic signatures.
          </div>
          <div style={{ fontSize: 10, color: "#555" }}>
            Â© 2026 Violet Shores Pty Ltd | vacprotocol.org
          </div>
        </div>
      </div>
    </div>
  );
}

function App() {
  return React.createElement('div', { style: { paddingTop: '48px' } },
    React.createElement(VACSimulation)
  );
}
ReactDOM.createRoot(document.getElementById('root')).render(React.createElement(App));
</script>
</body>
</html>
